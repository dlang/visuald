
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en-US">

<!--
	Copyright (c) 1999-2013 by Digital Mars
	All Rights Reserved Written by Walter Bright
	http://digitalmars.com
  -->

<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="keywords" content="D programming language" />
<meta name="description" content="D Programming Language" />
<title>Conditional Compilation - D Programming Language</title>
<link rel="stylesheet" href="css/codemirror.css" />
<link rel="stylesheet" type="text/css" href="css/style.css" />
<link rel="stylesheet" type="text/css" href="css/print.css" media="print" />
<link rel="shortcut icon" href="favicon.ico" />

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
<script src="/js/codemirror.js"></script>
<script src="/js/run-main-website.js" type="text/javascript"></script>
<script src="/js/d.js"></script>
<script src="/js/run.js" type="text/javascript"></script>

<script type="text/javascript">
function bodyLoad()
{
	var links = document.getElementById("navigation").getElementsByTagName("a");
	for (var i = 0; i < links.length; i++)
	{
		var url = "/" + links[i].getAttribute("href");
		if (window.location.href.match(url + "\x24") == url)
		{
			var cls = links[i].getAttribute("class");
			links[i].setAttribute("class", cls ? cls + " active" : "active");
			break;
		}
	}
}
</script>
</head>

<body onLoad='bodyLoad()'>

<div id="top">
	<div id="search-box">
		<form method="get" action="http://google.com/search">
			<img src="/images/search-left.gif" width="11" height="22" /><input id="q" name="q" /><input type="image" id="search-submit" name="submit" src="/images/search-button.gif" />
			<input type="hidden" id="domains" name="domains" value="dlang.org" />
			<input type="hidden" id="sourceid" name="sourceid" value="google-search" />
			<div id="search-dropdown">
				<select id="sitesearch" name="sitesearch" size="1">
					<option value="dlang.org">Entire D Site</option>
					<option value="dlang.org/phobos">Library Reference</option>
					<option value="digitalmars.com/d/archives">Newsgroup Archives</option>
				</select>
			</div>
		</form>
	</div>
	<div id="header">
		<a id="d-language" href="/">
		<img id="logo" width="125" height="95" border="0" alt="D Logo" src="/images/dlogo.png">
		D Programming Language</a>
	</div>
</div>

<!--Generated by Ddoc from version.dd-->



<div id="navigation">
  

<div class="navblock">
<h2><a href="index.html" title="D Programming Language">D </a></h2>
<ul>	<li><a href="overview.html" title="D language overview">Overview</a></li>

	<li><a href="comparison.html" title="D feature list">Features</a></li>

	<li><a href="download.html" title="Download a D compiler">Downloads &amp; Tools</a></li>

	<li><a href="changelog.html" title="History of changes to D">Change Log</a></li>
	<li><a href="bugstats.php" title="D issue and bug tracking system">Bug Tracker</a></li>
	<li><a href="faq.html" title="Frequently Asked Questions">FAQ</a></li>

	<li><a href="appendices.html">Appendices</a></li>
	<li><a href="acknowledgements.html" title="Thank-you to these people who have helped with D">Acknowledgments</a></li>
	<li><a href="sitemap.html" title="Documents on this site, indexed alphabetically">Sitemap</a></li>
	<li><a href="http://digitalmars.com/d/1.0/index.html" title="D Programming Language 1.0">D1 Home</a></li>
</ul>
    </div>


<div class="navblock">
<h2>Documentation</h2>
<ul>    <li><a href="http://www.amazon.com/exec/obidos/ASIN/0321635361/classicempire">Book</a>
</li>
	<li><a href="http://www.informit.com/articles/article.aspx?p=1381876">&nbsp;<font size=-1><span style="visibility: hidden">3</span>1.&nbsp;Tutorial</font></a></li>
	<li><a href="http://www.informit.com/articles/article.aspx?p=1609144">&nbsp;<font size=-1>13.&nbsp;Concurrency</font></a></li>

	<li><a href="language-reference.html">Language Reference</a>

    <div class="navblock">
<ul>	<li><a href="lex.html">Lexical</a></li>
	<li><a href="module.html">Modules</a></li>
	<li><a href="declaration.html">Declarations</a></li>
	<li><a href="type.html">Types</a></li>
	<li><a href="property.html">Properties</a></li>
	<li><a href="attribute.html">Attributes</a></li>
	<li><a href="pragma.html">Pragmas</a></li>
	<li><a href="expression.html">Expressions</a></li>
	<li><a href="statement.html">Statements</a></li>
	<li><a href="arrays.html">Arrays</a></li>
	<li><a href="hash-map.html">Associative Arrays</a></li>
	<li><a href="struct.html">Structs &amp; Unions</a></li>
	<li><a href="class.html">Classes</a></li>
	<li><a href="interface.html">Interfaces</a></li>
	<li><a href="enum.html">Enums</a></li>
	<li><a href="const3.html">Const and Immutable</a></li>
	<li><a href="function.html">Functions</a></li>
	<li><a href="operatoroverloading.html">Operator Overloading</a></li>
	<li><a href="template.html">Templates</a></li>
	<li><a href="template-mixin.html">Template Mixins</a></li>
	<li><a href="dbc.html">Contracts</a></li>
	<li><a href="version.html">Conditional Compilation</a></li>
	<li><a href="simd.html">Vector Extensions</a></li>
	<li><a href="traits.html">Traits</a></li>
	<li><a href="errors.html">Handling errors</a></li>
	<li><a href="unittest.html">Unit Tests</a></li>
	<li><a href="garbage.html">Garbage Collection</a></li>
	<li><a href="float.html">Floating Point</a></li>
	<li><a href="iasm.html">Inline Assembler</a></li>
	<li><a href="ddoc.html">Documentation Comments</a></li>
	<li><a href="interfaceToC.html">Interfacing To C</a></li>
	<li><a href="cpp_interface.html">Interfacing To C++</a></li>
	<li><a href="portability.html">Portability Guide</a></li>
	<li><a href="entity.html">Named Character Entities</a></li>
	<li><a href="memory-safe-d.html">Memory Safe D Spec</a></li>
	<li><a href="abi.html">Application Binary Interface</a></li>
    </ul>
</div>

</li>
	<li><a href="phobos/index.html">Library Reference</a></li>
	<li><a href="howtos.html" title="Helps for using D">How-tos</a></li>

	<li><a href="articles.html">Articles</a></li>
</ul>
    </div>


<div class="navblock">
<h2><a href="http://rainers.github.io/visuald/visuald/StartPage.html
">Visual D</a></h2>
<ul></ul>
    </div>


<div class="navblock">
<h2>Community</h2>
<ul>	<li><a href="http://forum.dlang.org/" title="User forums">Forums</a></li>
	<li><a href="http://github.com/D-Programming-Language" title="D on github">GitHub</a></li>
	<li><a href="http://wiki.dlang.org" title="Wiki for the D Programming Language">Wiki</a></li>
	<li><a href="http://wiki.dlang.org/Review_Queue" title="Queue of current and upcoming standard library additions">Review Queue</a></li>
	<li><a href="http://twitter.com/#search?q=%23d_lang" title="#d_lang on twitter.com">Twitter</a></li>
	<li><a href="http://digitalmars.com/d/dlinks.html" title="External D related links">Links</a></li>
	
</ul>
    </div>


  
<div id="translate" class="tool">Translate this page:
	<div id="google_translate_element"></div><script type="text/javascript">
	function googleTranslateElementInit() {
	  new google.translate.TranslateElement({
	    pageLanguage: 'en',
	    autoDisplay: false,
	    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
	  }, 'google_translate_element');
	}
	</script>
<script type="text/javascript" src="http://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</div>

</div><!--/navigation-->
<div id="content" class='hyphenate'>
  
<div id="tools">
	<!--span id="lastupdate">Last update Sun Sep 22 15:36:54 2013

</span-->
	<span class="tip">
		<a href="https://github.com/D-Programming-Language/dlang.org/edit/master/version.dd" class="button">Improve this page</a>
		<span>
			Quickly fork, edit online, and submit a pull request for this page.
			Requires a signed-in GitHub account. This works well for small changes.
			If you'd like to make larger changes you may want to consider using
			local clone.
		</span>
	</span>
	<span class="tip">
		<a href="http://wiki.dlang.org/DocComments/Version" class="button">Page wiki</a>
		<span>
			View or edit the community-maintained wiki page associated with this page.
		</span>
	</span>
</div>

  <h1>Conditional Compilation</h1>
  
	<p><i>Conditional compilation</i> is the process of selecting which
	code to compile and which code to not compile.
	(In C and C++, conditional compilation is done with the preprocessor
	directives <span class="notranslate"><span class="d_inlinecode donthyphenate">#if</span></span> / <span class="notranslate"><span class="d_inlinecode donthyphenate">#else</span></span> / <span class="notranslate"><span class="d_inlinecode donthyphenate">#endif</span></span>.)
	</p>

<pre class="bnf"><span class="notranslate"><a name="ConditionalDeclaration"><i>ConditionalDeclaration</i></a>:
    <a href="#Condition"><i>Condition</i></a> <a href="#CCDeclarationBlock"><i>CCDeclarationBlock</i></a>
    <a href="#Condition"><i>Condition</i></a> <a href="#CCDeclarationBlock"><i>CCDeclarationBlock</i></a> <span class="notranslate"><span class="d_inlinecode donthyphenate">else</span></span> <a href="#CCDeclarationBlock"><i>CCDeclarationBlock</i></a>
    <a href="#Condition"><i>Condition</i></a> <span class="notranslate"><span class="d_inlinecode donthyphenate">:</span></span> <a href="#Declarations"><i>Declarations</i></a>

<a name="CCDeclarationBlock"><i>CCDeclarationBlock</i></a>:
    <a href="declaration.html#Declaration"><i>Declaration</i></a>
    <span class="notranslate"><span class="d_inlinecode donthyphenate">{</span></span> <a href="#Declarations"><i>Declarations</i></a> <span class="notranslate"><span class="d_inlinecode donthyphenate">}</span></span>
    <span class="notranslate"><span class="d_inlinecode donthyphenate">{ }</span></span>

<a name="Declarations"><i>Declarations</i></a>:
    <a href="declaration.html#Declaration"><i>Declaration</i></a>
    <a href="declaration.html#Declaration"><i>Declaration</i></a> <i>Declarations</i>

<a name="ConditionalStatement"><i>ConditionalStatement</i></a>:
    <a href="#Condition"><i>Condition</i></a> <a href="statement.html#NoScopeNonEmptyStatement"><i>NoScopeNonEmptyStatement</i></a>
    <a href="#Condition"><i>Condition</i></a> <a href="statement.html#NoScopeNonEmptyStatement"><i>NoScopeNonEmptyStatement</i></a> <span class="notranslate"><span class="d_inlinecode donthyphenate">else</span></span> <a href="statement.html#NoScopeNonEmptyStatement"><i>NoScopeNonEmptyStatement</i></a>
</span></pre>

	<p>If the <a href="#Condition"><i>Condition</i></a> is satisfied, then the following
	<i>CCDeclarationBlock</i> or <i>Statement</i> is compiled in.
	If it is not satisfied, the <i>CCDeclarationBlock</i> or <i>Statement</i>
	after the optional <span class="notranslate"><span class="d_inlinecode donthyphenate">else</span></span> is compiled in.
	</p>

	<p>Any <i>CCDeclarationBlock</i> or <i>Statement</i> that is not
	compiled in still must be syntactically correct.
	</p>

	<p>No new scope is introduced, even if the
	<i>CCDeclarationBlock</i> or <i>Statement</i>
	is enclosed by <span class="notranslate"><span class="d_inlinecode donthyphenate">{ }</span></span>.
	</p>

	<p><i>ConditionalDeclaration</i>s and <i>ConditionalStatement</i>s
	can be nested.
	</p>

	<p>The <a href="#StaticAssert"><i>StaticAssert</i></a> can be used
	to issue errors at compilation time for branches of the conditional
	compilation that are errors.
	</p>

	<p><i>Condition</i> comes in the following forms:
	</p>

<pre class="bnf"><span class="notranslate"><a name="Condition"><i>Condition</i></a>:
    <a href="#VersionCondition"><i>VersionCondition</i></a>
    <a href="#DebugCondition"><i>DebugCondition</i></a>
    <a href="#StaticIfCondition"><i>StaticIfCondition</i></a>
</span></pre>

<h3><a name="version">Version Condition</a></h3>

<pre class="bnf"><span class="notranslate"><a name="VersionCondition"><i>VersionCondition</i></a>:
    <span class="notranslate"><span class="d_inlinecode donthyphenate">version (</span></span> <a href="lex.html#IntegerLiteral"><i>IntegerLiteral</i></a> <span class="notranslate"><span class="d_inlinecode donthyphenate">)</span></span>
    <span class="notranslate"><span class="d_inlinecode donthyphenate">version (</span></span> <i>Identifier</i> <span class="notranslate"><span class="d_inlinecode donthyphenate">)</span></span>
    <span class="notranslate"><span class="d_inlinecode donthyphenate">version (</span></span> <span class="notranslate"><span class="d_inlinecode donthyphenate">unittest</span></span> <span class="notranslate"><span class="d_inlinecode donthyphenate">)</span></span>
    <span class="notranslate"><span class="d_inlinecode donthyphenate">version (</span></span> <span class="notranslate"><span class="d_inlinecode donthyphenate">assert</span></span> <span class="notranslate"><span class="d_inlinecode donthyphenate">)</span></span>
</span></pre>

	<p>Versions enable multiple versions of a module to be implemented
	with a single source file.
	</p>

	<p>The <i>VersionCondition</i> is satisfied if the <i>IntegerLiteral</i>
	is greater than or equal to the current <i>version level</i>,
	or if <i>Identifier</i> matches a <i>version identifier</i>.
	</p>

	<p>The <i>version level</i> and <i>version identifier</i> can
	be set on the command line by the <span class="notranslate"><span class="d_inlinecode donthyphenate">-version</span></span> switch
	or in the module itself with a <a href="#VersionSpecification"><i>VersionSpecification</i></a>,
	or they can be predefined by the compiler.
	</p>

	<p>Version identifiers are in their own unique name space, they do
	not conflict with debug identifiers or other symbols in the module.
	Version identifiers defined in one module have no influence
	over other imported modules.
	</p>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">int</span> k;
<span class="d_keyword">version</span> (Demo) <span class="d_comment">// compile in this code block for the demo version
</span>{ <span class="d_keyword">int</span> i;
  <span class="d_keyword">int</span> k;    <span class="d_comment">// error, k already defined
</span>
  i = 3;
}
x = i;      <span class="d_comment">// uses the i declared above
</span></span></pre>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">version</span> (X86)
{
  ... <span class="d_comment">// implement custom inline assembler version
</span>}
<span class="d_keyword">else</span>
{
  ... <span class="d_comment">// use default, but slow, version
</span>}
</span></pre>

<p>The <span class="notranslate"><span class="d_inlinecode donthyphenate">version(unittest)</span></span> is satisfied if and only if the code is
	compiled with unit tests enabled (the <span class="notranslate"><span class="d_inlinecode donthyphenate">-unittest</span></span> option on <span class="notranslate"><span class="d_inlinecode donthyphenate">dmd</span></span>).
	</p>


<h3><a name="VersionSpecification">Version Specification</a></h3>

<pre class="bnf"><span class="notranslate"><a name="VersionSpecification"><i>VersionSpecification</i></a>:
    <span class="notranslate"><span class="d_inlinecode donthyphenate">version =</span></span> <i>Identifier</i> <span class="notranslate"><span class="d_inlinecode donthyphenate">;</span></span>
    <span class="notranslate"><span class="d_inlinecode donthyphenate">version =</span></span> <a href="lex.html#IntegerLiteral"><i>IntegerLiteral</i></a> <span class="notranslate"><span class="d_inlinecode donthyphenate">;</span></span>
</span></pre>

	<p>The version specification makes it straightforward to group
	a set of features under one major version, for example:
	</p>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">version</span> (ProfessionalEdition)
{
  <span class="d_keyword">version</span> = FeatureA;
  <span class="d_keyword">version</span> = FeatureB;
  <span class="d_keyword">version</span> = FeatureC;
}
<span class="d_keyword">version</span> (HomeEdition)
{
  <span class="d_keyword">version</span> = FeatureA;
}
...
<span class="d_keyword">version</span> (FeatureB)
{
  ... implement Feature B ...
}
</span></pre>

	<p>Version identifiers or levels may not be forward referenced:
	</p>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">version</span> (Foo)
{
  <span class="d_keyword">int</span> x;
}
<span class="d_keyword">version</span> = Foo;	<span class="d_comment">// error, Foo already used
</span></span></pre>
	<p><i>VersionSpecification</i>s may only appear at module scope.</p>

	<p>While the debug and version conditions superficially behave the
	same,
	they are intended for very different purposes. Debug statements
	are for adding debug code that is removed for the release version.
	Version statements are to aid in portability and multiple release
	versions.
	</p>

	<p>Here's an example of a <i>full</i> version as opposed to
	a <i>demo</i> version:</p>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">class</span> Foo {
  <span class="d_keyword">int</span> a, b;

  <span class="d_keyword">version</span>(full)
  {
    <span class="d_keyword">int</span> extrafunctionality()
    {
      ...
      <span class="d_keyword">return</span> 1;  <span class="d_comment">// extra functionality is supported
</span>    }
  }
  <span class="d_keyword">else</span> <span class="d_comment">// demo
</span>  {
    <span class="d_keyword">int</span> extrafunctionality()
    {
      <span class="d_keyword">return</span> 0;  <span class="d_comment">// extra functionality is not supported
</span>    }
  }
}
</span></pre>

	Various different version builds can be built with a parameter
	to version:

<pre class="d_code"><span class="notranslate"><span class="d_keyword">version</span>(<b><i>n</i></b>
) <span class="d_comment">// add in version code if version level is &gt;= n
</span>{
   ... <span class="d_keyword">version</span> code ...
}

<span class="d_keyword">version</span>(<b><i>identifier</i></b>
) <span class="d_comment">// add in version code if version
</span>                         <span class="d_comment">// keyword is identifier
</span>{
   ... <span class="d_keyword">version</span> code ...
}
</span></pre>

	<p>These are presumably set by the command line as
	<span class="notranslate"><span class="d_inlinecode donthyphenate">-version=n</span></span> and <span class="notranslate"><span class="d_inlinecode donthyphenate">-version=identifier</span></span>.
	</p>


<h3><a name="PredefinedVersions">Predefined Versions</a></h3>

	<p>Several environmental version identifiers and identifier
	name spaces are predefined for consistent usage.
	Version identifiers do not conflict
	with other identifiers in the code, they are in a separate name space.
	Predefined version identifiers are global, i.e. they apply to
	all modules being compiled and imported.
	</p>

	<center><table border=1 cellpadding=4 cellspacing=0><caption>Predefined Version Identifiers</caption>
	<tr><th class="donthyphenate"><b>Version Identifier</b></th><th class="donthyphenate"><b>Description</b></th></tr> 
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">DigitalMars</span></span> </td><td>DMD (Digital Mars D) is the compiler</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">GNU</span></span> </td><td>GDC (GNU D Compiler) is the compiler</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">LDC</span></span> </td><td>LDC (LLVM D Compiler) is the compiler</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">SDC</span></span> </td><td>SDC (Stupid D Compiler) is the compiler</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">Windows</span></span> </td><td>Microsoft Windows systems</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">Win32</span></span> </td><td>Microsoft 32-bit Windows systems</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">Win64</span></span> </td><td>Microsoft 64-bit Windows systems</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">linux</span></span> </td><td>All Linux systems</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">OSX</span></span> </td><td>Mac OS X</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">FreeBSD</span></span> </td><td>FreeBSD</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">OpenBSD</span></span> </td><td>OpenBSD</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">NetBSD</span></span> </td><td>NetBSD</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">DragonFlyBSD</span></span> </td><td>DragonFlyBSD</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">BSD</span></span> </td><td>All other BSDs</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">Solaris</span></span> </td><td>Solaris</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">Posix</span></span> </td><td>All POSIX systems (includes Linux, FreeBSD, OS X, Solaris, etc.)</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">AIX</span></span> </td><td>IBM Advanced Interactive eXecutive OS</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">Haiku</span></span> </td><td>The Haiku operating system</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">SkyOS</span></span> </td><td>The SkyOS operating system</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">SysV3</span></span> </td><td>System V Release 3</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">SysV4</span></span> </td><td>System V Release 4</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">Hurd</span></span> </td><td>GNU Hurd</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">Android</span></span> </td><td>The Android platform</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">Cygwin</span></span> </td><td>The Cygwin environment</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">MinGW</span></span> </td><td>The MinGW environment</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">X86</span></span> </td><td>Intel and AMD 32-bit processors</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">X86_64</span></span> </td><td>Intel and AMD 64-bit processors</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">ARM</span></span> </td><td>The ARM architecture (32-bit) (AArch32 et al)</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">ARM_Thumb</span></span> </td><td>ARM in any Thumb mode</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">ARM_SoftFloat</span></span> </td><td>The ARM <span class="notranslate"><span class="d_inlinecode donthyphenate">soft</span></span> floating point ABI</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">ARM_SoftFP</span></span> </td><td>The ARM <span class="notranslate"><span class="d_inlinecode donthyphenate">softfp</span></span> floating point ABI</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">ARM_HardFloat</span></span> </td><td>The ARM <span class="notranslate"><span class="d_inlinecode donthyphenate">hardfp</span></span> floating point ABI</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">AArch64</span></span> </td><td>The Advanced RISC Machine architecture (64-bit)</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">PPC</span></span> </td><td>The PowerPC architecture, 32-bit</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">PPC_SoftFloat</span></span> </td><td>The PowerPC soft float ABI</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">PPC_HardFloat</span></span> </td><td>The PowerPC hard float ABI</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">PPC64</span></span> </td><td>The PowerPC architecture, 64-bit</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">IA64</span></span> </td><td>The Itanium architecture (64-bit)</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">MIPS32</span></span> </td><td>The MIPS architecture, 32-bit</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">MIPS64</span></span> </td><td>The MIPS architecture, 64-bit</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">MIPS_O32</span></span> </td><td>The MIPS O32 ABI</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">MIPS_N32</span></span> </td><td>The MIPS N32 ABI</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">MIPS_O64</span></span> </td><td>The MIPS O64 ABI</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">MIPS_N64</span></span> </td><td>The MIPS N64 ABI</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">MIPS_EABI</span></span> </td><td>The MIPS EABI</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">MIPS_SoftFloat</span></span> </td><td>The MIPS <span class="notranslate"><span class="d_inlinecode donthyphenate">soft-float</span></span> ABI</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">MIPS_HardFloat</span></span> </td><td>The MIPS <span class="notranslate"><span class="d_inlinecode donthyphenate">hard-float</span></span> ABI</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">SPARC</span></span> </td><td>The SPARC architecture, 32-bit</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">SPARC_V8Plus</span></span> </td><td>The SPARC v8+ ABI</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">SPARC_SoftFloat</span></span> </td><td>The SPARC soft float ABI</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">SPARC_HardFloat</span></span> </td><td>The SPARC hard float ABI</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">SPARC64</span></span> </td><td>The SPARC architecture, 64-bit</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">S390</span></span> </td><td>The System/390 architecture, 32-bit</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">S390X</span></span> </td><td>The System/390X architecture, 64-bit</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">HPPA</span></span> </td><td>The HP PA-RISC architecture, 32-bit</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">HPPA64</span></span> </td><td>The HP PA-RISC architecture, 64-bit</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">SH</span></span> </td><td>The SuperH architecture, 32-bit</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">SH64</span></span> </td><td>The SuperH architecture, 64-bit</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">Alpha</span></span> </td><td>The Alpha architecture</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">Alpha_SoftFloat</span></span> </td><td>The Alpha soft float ABI</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">Alpha_HardFloat</span></span> </td><td>The Alpha hard float ABI</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">LittleEndian</span></span> </td><td>Byte order, least significant first</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">BigEndian</span></span> </td><td>Byte order, most significant first</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">D_Coverage</span></span> </td><td><a href="code_coverage.html">Code coverage analysis</a> instrumentation (command line <a href="dmd-windows.html#switches">switch</a> <span class="notranslate"><span class="d_inlinecode donthyphenate">-cov</span></span>) is being generated</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">D_Ddoc</span></span> </td><td><a href="ddoc.html">Ddoc</a> documentation (command line <a href="dmd-windows.html#switches">switch</a> <span class="notranslate"><span class="d_inlinecode donthyphenate">-D</span></span>) is being generated</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">D_InlineAsm_X86</span></span> </td><td><a href="iasm.html">Inline assembler</a> for X86 is implemented</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">D_InlineAsm_X86_64</span></span> </td><td><a href="iasm.html">Inline assembler</a> for X86-64 is implemented</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">D_LP64</span></span> </td><td><b>Pointers</b> are 64 bits (command line <a href="dmd-windows.html#switches">switch</a> <span class="notranslate"><span class="d_inlinecode donthyphenate">-m64</span></span>). (Do not confuse this with C's LP64 model)</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">D_X32</span></span> </td><td>Pointers are 32 bits, but words are still 64 bits (x32 ABI) (This can be defined in parallel to <span class="notranslate"><span class="d_inlinecode donthyphenate">X86_64</span></span>)</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">D_HardFloat</span></span> </td><td>The target hardware has a floating point unit</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">D_SoftFloat</span></span> </td><td>The target hardware does not have a floating point unit</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">D_PIC</span></span> </td><td>Position Independent Code (command line <a href="dmd-windows.html#switches">switch</a> <span class="notranslate"><span class="d_inlinecode donthyphenate">-fPIC</span></span>) is being generated</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">D_SIMD</span></span> </td><td><a href="simd.html">Vector extensions</a> (via <span class="notranslate"><span class="d_inlinecode donthyphenate">__simd</span></span>) are supported</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">D_Version2</span></span> </td><td>This is a D version 2 compiler</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">D_NoBoundsChecks</span></span> </td><td>Array bounds checks are disabled (command line <a href="dmd-windows.html#switches">switch</a> <span class="notranslate"><span class="d_inlinecode donthyphenate">-noboundscheck</span></span>)</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">unittest</span></span> </td><td><a href="unittest.html">Unit tests</a> are enabled (command line <a href="dmd-windows.html#switches">switch</a> <span class="notranslate"><span class="d_inlinecode donthyphenate">-unittest</span></span>)</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">assert</span></span> </td><td>assert expressions are enabled</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">none</span></span> </td><td>Never defined; used to just disable a section of code</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">all</span></span> </td><td>Always defined; used as the opposite of <span class="notranslate"><span class="d_inlinecode donthyphenate">none</span></span></td></tr>
	</table></center>

	<p>The following identifiers are defined, but are deprecated:
	</p>

	<center><table border=1 cellpadding=4 cellspacing=0><caption>Predefined Version Identifiers (deprecated)</caption>
	<tr><th class="donthyphenate"><b>Version Identifier</b></th><th class="donthyphenate"><b>Description</b></th></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">darwin</span></span></td><td>The Darwin operating system; use <span class="notranslate"><span class="d_inlinecode donthyphenate">OSX</span></span> instead</td></tr>
	<tr><td><span class="notranslate"><span class="d_inlinecode donthyphenate">Thumb</span></span></td><td>ARM in Thumb mode; use <span class="notranslate"><span class="d_inlinecode donthyphenate">ARM_Thumb</span></span> instead</td></tr>
	</table></center>

	<p>Others will be added as they make sense and new implementations appear.
	</p>

	<p>It is inevitable that the D language will evolve over time.
	Therefore, the version identifier namespace beginning with "D_"
	is reserved for identifiers indicating D language specification
	or new feature conformance. Further, all identifiers derived from
	the ones listed above by appending any character(s) are reserved. This
	means that e.g. <span class="notranslate"><span class="d_inlinecode donthyphenate">ARM_foo</span></span> and <span class="notranslate"><span class="d_inlinecode donthyphenate">Windows_bar</span></span> are reserved while
	<span class="notranslate"><span class="d_inlinecode donthyphenate">foo_ARM</span></span> and <span class="notranslate"><span class="d_inlinecode donthyphenate">bar_Windows</span></span> are not.
	</p>

	<p>Furthermore, predefined version identifiers from this list cannot
	be set from the command line or from version statements.
	(This prevents things like both <span class="notranslate"><span class="d_inlinecode donthyphenate">Windows</span></span> and <span class="notranslate"><span class="d_inlinecode donthyphenate">linux</span></span>
	being simultaneously set.)
	</p>

	<p>Compiler vendor specific versions can be predefined if the
	trademarked vendor identifier prefixes it, as in:
	</p>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">version</span>(DigitalMars_funky_extension)
{
    ...
}
</span></pre>

	<p>It is important to use the right version identifier for the right
	purpose. For example, use the vendor identifier when using a vendor
	specific feature. Use the operating system identifier when using
	an operating system specific feature, etc.
	</p>


<h2><a name="debug">Debug Condition</a></h2>

<pre class="bnf"><span class="notranslate"><a name="DebugCondition"><i>DebugCondition</i></a>:
    <span class="notranslate"><span class="d_inlinecode donthyphenate">debug</span></span>
    <span class="notranslate"><span class="d_inlinecode donthyphenate">debug (</span></span> <a href="lex.html#IntegerLiteral"><i>IntegerLiteral</i></a> <span class="notranslate"><span class="d_inlinecode donthyphenate">)</span></span>
    <span class="notranslate"><span class="d_inlinecode donthyphenate">debug (</span></span> <i>Identifier</i> <span class="notranslate"><span class="d_inlinecode donthyphenate">)</span></span>
</span></pre>

	<p>Two versions of programs are commonly built,
	a release build and a debug build.
	The debug build includes extra error checking code,
	test harnesses, pretty-printing code, etc.
	The debug statement conditionally compiles in its
	statement body.
	It is D's way of what in C is done
	with <span class="notranslate"><span class="d_inlinecode donthyphenate">#ifdef DEBUG</span></span> / <span class="notranslate"><span class="d_inlinecode donthyphenate">#endif</span></span> pairs.
	</p>

	<p>The <span class="notranslate"><span class="d_inlinecode donthyphenate">debug</span></span> condition is satisfied when the <span class="notranslate"><span class="d_inlinecode donthyphenate">-debug</span></span> switch is
	passed to the compiler or when the debug level is &gt;= 1.
	</p>

	<p>The <span class="notranslate"><span class="d_inlinecode donthyphenate">debug (</span></span> <i>IntegerLiteral</i> <span class="notranslate"><span class="d_inlinecode donthyphenate">)</span></span> condition is satisfied
	when the debug
	level is <span class="notranslate"><span class="d_inlinecode donthyphenate">&gt;=</span></span> <i>IntegerLiteral</i>.
	</p>

	<p>The <span class="notranslate"><span class="d_inlinecode donthyphenate">debug (</span></span> <i>Identifier</i> <span class="notranslate"><span class="d_inlinecode donthyphenate">)</span></span> condition is satisfied
	when the debug identifier matches <i>Identifier</i>.
	</p>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">class</span> Foo {
  <span class="d_keyword">int</span> a, b;
 <span class="d_keyword">debug</span>:
  <span class="d_keyword">int</span> flag;
}
</span></pre>


<h3>Debug Specification</h3>

<pre class="bnf"><span class="notranslate"><a name="DebugSpecification"><i>DebugSpecification</i></a>:
    <span class="notranslate"><span class="d_inlinecode donthyphenate">debug =</span></span> <i>Identifier</i> <span class="notranslate"><span class="d_inlinecode donthyphenate">;</span></span>
    <span class="notranslate"><span class="d_inlinecode donthyphenate">debug =</span></span> <a href="lex.html#IntegerLiteral"><i>IntegerLiteral</i></a> <span class="notranslate"><span class="d_inlinecode donthyphenate">;</span></span>
</span></pre>

	<p>Debug identifiers and levels are set either by the command line switch
	<span class="notranslate"><span class="d_inlinecode donthyphenate">-debug</span></span> or by a <i>DebugSpecification</i>.
	</p>

	<p>Debug specifications only affect the module they appear in, they
	do not affect any imported modules. Debug identifiers are in their
	own namespace, independent from version identifiers and other
	symbols.
	</p>

	<p>It is illegal to forward reference a debug specification:
	</p>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">debug</span> (foo) writefln(<span class="d_string">"Foo"</span>);
<span class="d_keyword">debug</span> = foo;	<span class="d_comment">// error, foo used before set
</span></span></pre>

	<p><i>DebugSpecification</i>s may only appear at module scope.</p>

	<p>Various different debug builds can be built with a parameter to
	debug:
	</p>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">debug</span>(IntegerLiteral) { } <span class="d_comment">// add in debug code if debug level is &gt;= IntegerLiteral
</span><span class="d_keyword">debug</span>(identifier) { } <span class="d_comment">// add in debug code if debug keyword is identifier
</span></span></pre>

	<p>These are presumably set by the command line as
	<span class="notranslate"><span class="d_inlinecode donthyphenate">-debug=</span></span><i>n</i> and <span class="notranslate"><span class="d_inlinecode donthyphenate">-debug=</span></span><i>identifier</i>.
	</p>

<h2><a name="staticif">Static If Condition</a></h2>

<pre class="bnf"><span class="notranslate"><a name="StaticIfCondition"><i>StaticIfCondition</i></a>:
    <span class="notranslate"><span class="d_inlinecode donthyphenate">static if (</span></span> <a href="expression.html#AssignExpression"><i>AssignExpression</i></a> <span class="notranslate"><span class="d_inlinecode donthyphenate">)</span></span>
</span></pre>

	<p><a href="expression.html#AssignExpression"><i>AssignExpression</i></a> is implicitly converted to a boolean type,
	and is evaluated at compile time.
	The condition is satisfied if it evaluates to <span class="notranslate"><span class="d_inlinecode donthyphenate">true</span></span>.
	It is not satisfied if it evaluates to <span class="notranslate"><span class="d_inlinecode donthyphenate">false</span></span>.
	</p>

	<p>It is an error if <a href="expression.html#AssignExpression"><i>AssignExpression</i></a> cannot be implicitly converted
	to a boolean type or if it cannot be evaluated at compile time.
	</p>

	<p><i>StaticIfCondition</i>s
	can appear in module, class, template, struct, union, or function scope.
	In function scope, the symbols referred to in the
	<a href="expression.html#AssignExpression"><i>AssignExpression</i></a> can be any that can normally be referenced
	by an expression at that point.
	</p>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">const</span> <span class="d_keyword">int</span> i = 3;
<span class="d_keyword">int</span> j = 4;

<b><i><span class="d_keyword">static</span> <span class="d_keyword">if</span></i></b>
 (i == 3)	<span class="d_comment">// ok, at module scope
</span>    <span class="d_keyword">int</span> x;

<span class="d_keyword">class</span> C {
  <span class="d_keyword">const</span> <span class="d_keyword">int</span> k = 5;

  <b><i><span class="d_keyword">static</span> <span class="d_keyword">if</span></i></b>
 (i == 3) <span class="d_comment">// ok
</span>    <span class="d_keyword">int</span> x;
  <span class="d_keyword">else</span>
    <span class="d_keyword">long</span> x;

  <b><i><span class="d_keyword">static</span> <span class="d_keyword">if</span></i></b>
 (j == 3) <span class="d_comment">// error, j is not a constant
</span>    <span class="d_keyword">int</span> y;

  <b><i><span class="d_keyword">static</span> <span class="d_keyword">if</span></i></b>
 (k == 5) <span class="d_comment">// ok, k is in current scope
</span>    <span class="d_keyword">int</span> z;
}

<span class="d_keyword">template</span> INT(<span class="d_keyword">int</span> i) {
  <span class="d_keyword">static</span> <span class="d_keyword">if</span> (i == 32)
    <span class="d_keyword">alias</span> <span class="d_keyword">int</span> INT;
  <span class="d_keyword">else</span> <span class="d_keyword">static</span> <span class="d_keyword">if</span> (i == 16)
    <span class="d_keyword">alias</span> <span class="d_keyword">short</span> INT;
  <span class="d_keyword">else</span>
    <span class="d_keyword">static</span> <span class="d_keyword">assert</span>(0); <span class="d_comment">// not supported
</span>}

INT!(32) a;  <span class="d_comment">// a is an int
</span>INT!(16) b;  <span class="d_comment">// b is a short
</span>INT!(17) c;  <span class="d_comment">// error, static assert trips
</span></span></pre>

	<p>A <i>StaticIfConditional</i> condition differs from an
	<i>IfStatement</i> in the following ways:
	</p>

	<ol>	<li>It can be used to conditionally compile declarations,
	not just statements.
	</li>
	<li>It does not introduce a new scope even if <span class="notranslate"><span class="d_inlinecode donthyphenate">{ }</span></span>
	are used for conditionally compiled statements.
	</li>
	<li>For unsatisfied conditions, the conditionally compiled code
	need only be syntactically correct. It does not have to be
	semantically correct.
	</li>
	<li>It must be evaluatable at compile time.
	</li>
	</ol>


<h2><a name="StaticAssert">Static Assert</a></h2>

<pre class="bnf"><span class="notranslate"><a name="StaticAssert"><i>StaticAssert</i></a>:
    <span class="notranslate"><span class="d_inlinecode donthyphenate">static assert (</span></span> <a href="expression.html#AssignExpression"><i>AssignExpression</i></a> <span class="notranslate"><span class="d_inlinecode donthyphenate">);</span></span>
    <span class="notranslate"><span class="d_inlinecode donthyphenate">static assert (</span></span> <a href="expression.html#AssignExpression"><i>AssignExpression</i></a> <span class="notranslate"><span class="d_inlinecode donthyphenate">,</span></span> <a href="expression.html#AssignExpression"><i>AssignExpression</i></a> <span class="notranslate"><span class="d_inlinecode donthyphenate">);</span></span>
</span></pre>

	<p><a href="expression.html#AssignExpression"><i>AssignExpression</i></a> is evaluated at compile time, and converted
	to a boolean value. If the value is true, the static assert
	is ignored. If the value is false, an error diagnostic is issued
	and the compile fails.
	</p>

	<p>Unlike <a href="expression.html#AssertExpression"><i>AssertExpression</i></a>s, <i>StaticAssert</i>s are always
	checked and evaluted by the compiler unless they appear in an
	unsatisfied conditional.
	</p>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">void</span> foo() {
  <span class="d_keyword">if</span> (0)
  {
    <span class="d_keyword">assert</span>(0);  <span class="d_comment">// never trips
</span>    <span class="d_keyword">static</span> <span class="d_keyword">assert</span>(0); <span class="d_comment">// always trips
</span>  }
  <span class="d_keyword">version</span> (BAR)
  {
  }
  <span class="d_keyword">else</span>
  {
    <span class="d_keyword">static</span> <span class="d_keyword">assert</span>(0); <span class="d_comment">// trips when version BAR is not defined
</span>  }
}
</span></pre>

	<p><i>StaticAssert</i> is useful tool for drawing attention to conditional
	configurations not supported in the code.
	</p>

	<p>The optional second <a href="expression.html#AssignExpression"><i>AssignExpression</i></a> can be used to supply
	additional information, such as a text string, that will be
	printed out along with the error diagnostic.
	</p>

  
<div id="google_ad">
<!-- Google ad -->
<script type="text/javascript"><!--
/**/google_ad_client = "pub-5628673096434613";
/**/google_ad_width = 728;
/**/google_ad_height = 90;
/**/google_ad_format = "728x90_as";
/**/google_ad_channel ="3651639259";
/**/google_page_url = document.location;
//--></script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>

</div><!--/content-->





<div id="footernav">
<a href="http://forum.dlang.org/" title="User Forums">Forums</a> |
<a href="http://wiki.dlang.org/DocComments/Version" title="Read/write comments and feedback">Comments</a> |
<a href="http://digitalmars.com/advancedsearch.html" title="Search Digital Mars web site">Search</a> |
<a href="download.html" title="Download D">Downloads</a> |
<a href="/">Home</a>
</div>
<div id="copyright">

Copyright &copy; 1999-2013 by Digital Mars &reg;, All Rights Reserved
 |
Page generated by <a href="ddoc.html">Ddoc</a> on Sun Sep 22 15:36:54 2013


</div>

</body>
</html>

