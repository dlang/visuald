
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en-US">

<!--
	Copyright (c) 1999-2013 by Digital Mars
	All Rights Reserved Written by Walter Bright
	http://digitalmars.com
  -->

<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="keywords" content="D programming language" />
<meta name="description" content="D Programming Language" />
<title>Introduction to std.datetime
 - D Programming Language</title>
<link rel="stylesheet" href="css/codemirror.css" />
<link rel="stylesheet" type="text/css" href="css/style.css" />
<link rel="stylesheet" type="text/css" href="css/print.css" media="print" />
<link rel="shortcut icon" href="favicon.ico" />

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
<script src="/js/codemirror.js"></script>
<script src="/js/run-main-website.js" type="text/javascript"></script>
<script src="/js/d.js"></script>
<script src="/js/run.js" type="text/javascript"></script>

<script type="text/javascript">
function bodyLoad()
{
	var links = document.getElementById("navigation").getElementsByTagName("a");
	for (var i = 0; i < links.length; i++)
	{
		var url = "/" + links[i].getAttribute("href");
		if (window.location.href.match(url + "\x24") == url)
		{
			var cls = links[i].getAttribute("class");
			links[i].setAttribute("class", cls ? cls + " active" : "active");
			break;
		}
	}
}
</script>
</head>

<body onLoad='bodyLoad()'>

<div id="top">
	<div id="search-box">
		<form method="get" action="http://google.com/search">
			<img src="/images/search-left.gif" width="11" height="22" /><input id="q" name="q" /><input type="image" id="search-submit" name="submit" src="/images/search-button.gif" />
			<input type="hidden" id="domains" name="domains" value="dlang.org" />
			<input type="hidden" id="sourceid" name="sourceid" value="google-search" />
			<div id="search-dropdown">
				<select id="sitesearch" name="sitesearch" size="1">
					<option value="dlang.org">Entire D Site</option>
					<option value="dlang.org/phobos">Library Reference</option>
					<option value="digitalmars.com/d/archives">Newsgroup Archives</option>
				</select>
			</div>
		</form>
	</div>
	<div id="header">
		<a id="d-language" href="/">
		<img id="logo" width="125" height="95" border="0" alt="D Logo" src="/images/dlogo.png">
		D Programming Language</a>
	</div>
</div>

<!--Generated by Ddoc from intro-to-datetime.dd-->



<div id="navigation">
  

<div class="navblock">
<h2><a href="index.html" title="D Programming Language">D </a></h2>
<ul>	<li><a href="overview.html" title="D language overview">Overview</a></li>

	<li><a href="comparison.html" title="D feature list">Features</a></li>

	<li><a href="download.html" title="Download a D compiler">Downloads &amp; Tools</a></li>

	<li><a href="changelog.html" title="History of changes to D">Change Log</a></li>
	<li><a href="bugstats.php" title="D issue and bug tracking system">Bug Tracker</a></li>
	<li><a href="faq.html" title="Frequently Asked Questions">FAQ</a></li>

	<li><a href="appendices.html">Appendices</a></li>
	<li><a href="acknowledgements.html" title="Thank-you to these people who have helped with D">Acknowledgments</a></li>
	<li><a href="sitemap.html" title="Documents on this site, indexed alphabetically">Sitemap</a></li>
	<li><a href="http://digitalmars.com/d/1.0/index.html" title="D Programming Language 1.0">D1 Home</a></li>
</ul>
    </div>


<div class="navblock">
<h2>Documentation</h2>
<ul>    <li><a href="http://www.amazon.com/exec/obidos/ASIN/0321635361/classicempire">Book</a>
</li>
	<li><a href="http://www.informit.com/articles/article.aspx?p=1381876">&nbsp;<font size=-1><span style="visibility: hidden">3</span>1.&nbsp;Tutorial</font></a></li>
	<li><a href="http://www.informit.com/articles/article.aspx?p=1609144">&nbsp;<font size=-1>13.&nbsp;Concurrency</font></a></li>

	<li><a href="language-reference.html">Language Reference</a></li>
	<li><a href="phobos/index.html">Library Reference</a></li>
	<li><a href="howtos.html" title="Helps for using D">How-tos</a></li>

	<li><a href="articles.html">Articles</a>

    <div class="navblock">
<ul>		<li><a href="const3.html" title="Const and Immutable">Const</a></li>
		<li><a href="d-floating-point.html" title="D Floating Point">Floating Point</a></li>
		<li><a href="exception-safe.html" title="Exception safe programming techniques">Exception Safety</a></li>
		<li><a href="hijack.html" title="Function Hijacking Mitigation">Hijacking</a></li>
		<li><a href="intro-to-datetime.html" title="Introduction to std.datetime">Introduction to std.datetime</a></li>
		<li><a href="lazy-evaluation.html" title="Lazy evaluation of function arguments">Lazy Evaluation</a></li>
		<li><a href="memory.html" title="Memory management techniques in D">Memory Management</a></li>
		<li><a href="migrate-to-shared.html" title="Migrating to Shared">Migrating to Shared</a></li>
		<li><a href="mixin.html" title="String mixins compile string literals into D programs">Mixins</a></li>
		<li><a href="regular-expression.html" title="Programming with regular expressions">Regular Expressions</a></li>
		<li><a href="safed.html" title="SafeD - The Safe Subset of D">SafeD</a></li>
		<li><a href="templates-revisited.html" title="D takes a fresh look at template design">Templates Revisited</a></li>
		<li><a href="tuple.html" title="What tuples are and how to use them">Tuples</a></li>
		<li><a href="variadic-function-templates.html" title="Variadic arguments to templates">Variadic Templates</a></li>
		<li><a href="d-array-article.html" title="D Slices">D Slices</a></li>
	</ul>
</div>
</li>
</ul>
    </div>


<div class="navblock">
<h2><a href="http://rainers.github.io/visuald/visuald/StartPage.html
">Visual D</a></h2>
<ul></ul>
    </div>


<div class="navblock">
<h2>Community</h2>
<ul>	<li><a href="http://forum.dlang.org/" title="User forums">Forums</a></li>
	<li><a href="http://github.com/D-Programming-Language" title="D on github">GitHub</a></li>
	<li><a href="http://wiki.dlang.org" title="Wiki for the D Programming Language">Wiki</a></li>
	<li><a href="http://wiki.dlang.org/Review_Queue" title="Queue of current and upcoming standard library additions">Review Queue</a></li>
	<li><a href="http://twitter.com/#search?q=%23d_lang" title="#d_lang on twitter.com">Twitter</a></li>
	<li><a href="http://digitalmars.com/d/dlinks.html" title="External D related links">Links</a></li>
	
</ul>
    </div>


  
<div id="translate" class="tool">Translate this page:
	<div id="google_translate_element"></div><script type="text/javascript">
	function googleTranslateElementInit() {
	  new google.translate.TranslateElement({
	    pageLanguage: 'en',
	    autoDisplay: false,
	    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
	  }, 'google_translate_element');
	}
	</script>
<script type="text/javascript" src="http://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</div>

</div><!--/navigation-->
<div id="content" class='hyphenate'>
  
<div id="tools">
	<!--span id="lastupdate">Last update <a href="phobos/std_datetime.html#DateTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">DateTime</span></span></a>
</span-->
	<span class="tip">
		<a href="https://github.com/D-Programming-Language/dlang.org/edit/master/intro-to-datetime.dd" class="button">Improve this page</a>
		<span>
			Quickly fork, edit online, and submit a pull request for this page.
			Requires a signed-in GitHub account. This works well for small changes.
			If you'd like to make larger changes you may want to consider using
			local clone.
		</span>
	</span>
	<span class="tip">
		<a href="http://wiki.dlang.org/DocComments/" class="button">Page wiki</a>
		<span>
			View or edit the community-maintained wiki page associated with this page.
		</span>
	</span>
</div>

  <h1>Introduction to std.datetime
</h1>
  
    <p><i>by Jonathan M Davis</i></p>

    <h2>Introduction</h2>

    <p>In dmd 2.052, the module <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a> was introduced. It will be
        replacing <a href="phobos/std_date.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date</span></span></a> entirely. As such, <a href="phobos/std_date.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date</span></span></a> is currently
        scheduled for deprecation. At a later date it will be deprecated
        (at which point, you'll have to compile with -d for it to work rather
        than simply having the compiler complain when you use it), and
        eventually it will be fully removed from Phobos. What this means is that
        all new code should be written to use <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a> and that any code
        which currently uses <a href="phobos/std_date.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date</span></span></a> is going to need to be refactored to
        use <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a> (unless you want to copy <a href="phobos/std_date.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date</span></span></a> to your own
        code and continue to use it as a non-Phobos module). This article
        attempts to familiarize you with <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a> as well as give some
        advice on how to migrate code from <a href="phobos/std_date.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date</span></span></a> to <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a> for
        those who have been using <a href="phobos/std_date.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date</span></span></a>.</p>

    <p><a href="phobos/std_date.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date</span></span></a> is essentially a C-based solution for dates and times. It
        uses <span class="notranslate"><span class="d_inlinecode donthyphenate">d_time</span></span> to hold time where <span class="notranslate"><span class="d_inlinecode donthyphenate">d_time</span></span> is a 64-bit integral
        value holding the number of milliseconds which have passed since
        midnight, January 1st, 1970 A.D. in UTC. C, on the other hand, uses
        <span class="notranslate"><span class="d_inlinecode donthyphenate">time_t</span></span> to hold time where <span class="notranslate"><span class="d_inlinecode donthyphenate">time_t</span></span> is an integral value holding
        the number of seconds which have passed since midnight, January 1st,
        1970 A.D. in UTC. Its size varies from architecture to architecture
        (typically 32 bits on a 32-bit machine and 64 bits on a 64-bit machine,
        but it varies with the OS and compiler). The exact set of functions that
        <a href="phobos/std_date.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date</span></span></a> provides for using with <span class="notranslate"><span class="d_inlinecode donthyphenate">d_time</span></span> aren't the same as what
        C provides for using with <span class="notranslate"><span class="d_inlinecode donthyphenate">time_t</span></span>, but their representation of time
        is virtually the same.</p>

    <p><a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a>, on the other hand, is very much an object-oriented
        solution, and it's not C-based at all. Rather, its API is based on
        <a href="http://www.boost.org/doc/libs/release/doc/html/date_time.html">Boost</a>'s
        types for handling dates and times (though they're far from identical).
        So, it's a bit of a paradigm shift to move from <a href="phobos/std_date.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date</span></span></a> to
        <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a>. Don't expect much to be the same between the two.
        However, <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a> is not plagued with the same bugs that
        <a href="phobos/std_date.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date</span></span></a> is plagued with (<a href="phobos/std_date.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date</span></span></a> being quite buggy in general),
        and it provides much more functionality than <a href="phobos/std_date.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date</span></span></a> does. So, in
        the long run at least, dealing with <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a> should be much more
        pleasant - though migration is likely to present a bit of a hurdle in
        the short term.</p>

    <h2>Basic Concepts of std.datetime</h2>

    <p>Most things in <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a> are based on and/or use three concepts:</p>

    <ul>        <li><b>Duration</b>: A duration of time with units. e.g. 4 days or 72
             seconds.</li>
        <li><b>Time Point</b>: A specific point in time. e.g. 21:00 or May 7th,
             2013.</li>
        <li><b>Time Interval</b>: A fixed period of time. e.g. [02:44 -
             12:22) or [February 4th, 1922 - January 17th,
             1955).</li>
     </ul>

    <h3>Durations</h3>

    <p>The duration types can actually be found in <a href="phobos/core_time.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">core.time</span></span></a>. They are
        <a href="phobos/core_time.html#Duration"><span class="notranslate"><span class="d_inlinecode donthyphenate">Duration</span></span></a> and <a href="phobos/core_time.html#TickDuration"><span class="notranslate"><span class="d_inlinecode donthyphenate">TickDuration</span></span></a>. <a href="phobos/core_time.html#TickDuration"><span class="notranslate"><span class="d_inlinecode donthyphenate">TickDuration</span></span></a> is intended for
        precision timing and is used primarily with <a href="phobos/std_datetime.html#StopWatch"><span class="notranslate"><span class="d_inlinecode donthyphenate">StopWatch</span></span></a>
        and the benchmarking functions found in <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a> - such as
        <a href="phobos/std_datetime.html#benchmark"><span class="notranslate"><span class="d_inlinecode donthyphenate">benchmark</span></span></a> - and you're unlikely to use it outside of
        using them. <a href="phobos/core_time.html#Duration"><span class="notranslate"><span class="d_inlinecode donthyphenate">Duration</span></span></a>, on the other hand, you're likely to use quite a
        bit.</p>

    <p><a href="phobos/core_time.html#Duration"><span class="notranslate"><span class="d_inlinecode donthyphenate">Duration</span></span></a> holds its time internally as hecto-nanoseconds (100 ns), so
        that's its maximum precision. It has property functions for both
        returning the duration of time truncated to a particular unit (such as
        the <span class="notranslate"><span class="d_inlinecode donthyphenate">days</span></span> and <span class="notranslate"><span class="d_inlinecode donthyphenate">seconds</span></span> property functions) as well as a function
        for returning the total number of a particular unit in that <a href="phobos/core_time.html#Duration"><span class="notranslate"><span class="d_inlinecode donthyphenate">Duration</span></span></a>
        (the <span class="notranslate"><span class="d_inlinecode donthyphenate">total</span></span> function).</p>

    <p>Generally, a <a href="phobos/core_time.html#Duration"><span class="notranslate"><span class="d_inlinecode donthyphenate">Duration</span></span></a> is created in one of two ways: by subtracting
        two time points or with the <a href="phobos/core_time.html#dur"><span class="notranslate"><span class="d_inlinecode donthyphenate">core.time.dur</span></span></a> function. So, for
        instance, if you subtracted a time point which represented 17:02 from
        a time point which represented 6:07, you'd get a <a href="phobos/core_time.html#Duration"><span class="notranslate"><span class="d_inlinecode donthyphenate">Duration</span></span></a> which
        represented 10 hours and 55 minutes. Or, if you wanted to create a
        <a href="phobos/core_time.html#Duration"><span class="notranslate"><span class="d_inlinecode donthyphenate">Duration</span></span></a> directly, then you'd use the <span class="notranslate"><span class="d_inlinecode donthyphenate">dur</span></span> function and make
        a call like <span class="notranslate"><span class="d_inlinecode donthyphenate">dur!"hours"(17)</span></span> or <span class="notranslate"><span class="d_inlinecode donthyphenate">dur!"seconds"(234)</span></span>.</p>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">auto</span> duration = TimeOfDay(17, 2) - TimeOfDay(6, 7);
<span class="d_keyword">assert</span>(duration == dur!<span class="d_string">"hours"</span>(10) + dur!<span class="d_string">"minutes"</span>(55));
<span class="d_keyword">assert</span>(duration.hours == 10);
<span class="d_keyword">assert</span>(duration.minutes == 55);
<span class="d_keyword">assert</span>(duration.total!<span class="d_string">"hours"</span>() == 10);
<span class="d_keyword">assert</span>(duration.total!<span class="d_string">"minutes"</span>() == 655);
<span class="d_keyword">assert</span>(duration.total!<span class="d_string">"hnsecs"</span>() == 393_000_000_000);
</span></pre>

    <p>Like any number, <a href="phobos/core_time.html#Duration"><span class="notranslate"><span class="d_inlinecode donthyphenate">Duration</span></span></a>s can be added together or
        subtracted from. However, unlike a naked number, they have units
        associated with them and will handle the appropriate conversions.
        Also, it should be noted that the various functions in druntime and
        Phobos which take a duration of time take an actual <a href="phobos/core_time.html#Duration"><span class="notranslate"><span class="d_inlinecode donthyphenate">Duration</span></span></a> rather
        than a naked number (most currently take both, though the versions which
        take a naked number are going to be deprecated). For instance,
        <a href="phobos/core_thread.html#sleep"><span class="notranslate"><span class="d_inlinecode donthyphenate">core.thread.sleep</span></span></a> takes a <a href="phobos/core_time.html#Duration"><span class="notranslate"><span class="d_inlinecode donthyphenate">Duration</span></span></a>, as does
        <a href="phobos/std_concurrency.html#receiveTimeout"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.concurrency.receiveTimeout</span></span></a>. So, durations are used outside
        of just interacting with <a href="phobos/core_time.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">core.time</span></span></a> and <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a>.</p>

    <p>One particular thing to note here is how both <span class="notranslate"><span class="d_inlinecode donthyphenate">dur</span></span> and <span class="notranslate"><span class="d_inlinecode donthyphenate">total</span></span>
        take a string representing the units of time to be used. This is an
        idiom used throughout <a href="phobos/core_time.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">core.time</span></span></a> and <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a>. The possible
        units are <span class="notranslate"><span class="d_inlinecode donthyphenate">"years"</span></span>, <span class="notranslate"><span class="d_inlinecode donthyphenate">"months"</span></span>, <span class="notranslate"><span class="d_inlinecode donthyphenate">"weeks"</span></span>, <span class="notranslate"><span class="d_inlinecode donthyphenate">"days"</span></span>,
        <span class="notranslate"><span class="d_inlinecode donthyphenate">"hours"</span></span>, <span class="notranslate"><span class="d_inlinecode donthyphenate">"minutes"</span></span>, <span class="notranslate"><span class="d_inlinecode donthyphenate">"seconds"</span></span>, <span class="notranslate"><span class="d_inlinecode donthyphenate">"msecs"</span></span>,
        <span class="notranslate"><span class="d_inlinecode donthyphenate">"usecs"</span></span>, <span class="notranslate"><span class="d_inlinecode donthyphenate">"hnsecs"</span></span>, and <span class="notranslate"><span class="d_inlinecode donthyphenate">"nsecs"</span></span>. It should be noted
        however that very few functions take <span class="notranslate"><span class="d_inlinecode donthyphenate">"nsecs"</span></span>, because nothing in
        <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a>, and very little in <a href="phobos/core_time.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">core.time</span></span></a>, has precision
        greater than hnsecs (100 ns). Also, a number of functions (such as
        <a href="phobos/core_time.html#dur"><span class="notranslate"><span class="d_inlinecode donthyphenate">core.time.dur</span></span></a>) do not take <span class="notranslate"><span class="d_inlinecode donthyphenate">"years"</span></span> or <span class="notranslate"><span class="d_inlinecode donthyphenate">"months"</span></span>,
        because it is not possible to convert between years or months and
        smaller units without a specific date. So, while you can add a
        <a href="phobos/core_time.html#Duration"><span class="notranslate"><span class="d_inlinecode donthyphenate">Duration</span></span></a> to a time point, if you want to add years or months to one,
        you must use a separate function (such as <span class="notranslate"><span class="d_inlinecode donthyphenate">add</span></span>) to do that - and
        those <i>will</i> take <span class="notranslate"><span class="d_inlinecode donthyphenate">"years"</span></span> and <span class="notranslate"><span class="d_inlinecode donthyphenate">"months"</span></span>.</p>

    <h3>Time Points</h3>

    <p><a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a> has 4 types which represent time points.</p>

    <ul>        <li><a href="phobos/std_datetime.html#Date"><span class="notranslate"><span class="d_inlinecode donthyphenate">Date</span></span></a></li>
        <li><a href="phobos/std_datetime.html#TimeOfDay"><span class="notranslate"><span class="d_inlinecode donthyphenate">TimeOfDay</span></span></a></li>
        <li><a href="phobos/std_datetime.html#DateTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">DateTime</span></span></a></li>
        <li><a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a></li>
     </ul>

    <p>A <a href="phobos/std_datetime.html#Date"><span class="notranslate"><span class="d_inlinecode donthyphenate">Date</span></span></a> represents a date and holds its year, month, and day as
        separate values internally. A <a href="phobos/std_datetime.html#TimeOfDay"><span class="notranslate"><span class="d_inlinecode donthyphenate">TimeOfDay</span></span></a> represents a time of day,
        00:00:00 - 23:59:59, and holds its hour, minute, and second as separate
        values internally. A <a href="phobos/std_datetime.html#DateTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">DateTime</span></span></a> represents a date and time and holds
        its values as a <a href="phobos/std_datetime.html#Date"><span class="notranslate"><span class="d_inlinecode donthyphenate">Date</span></span></a> and <a href="phobos/std_datetime.html#TimeOfDay"><span class="notranslate"><span class="d_inlinecode donthyphenate">TimeOfDay</span></span></a> internally. None of these types
        have any concept of time zone. They represent generic dates and/or times
        and are best-suited for cases where you need a date and/or time but
        don't care about time zone. Also, because they hold their values
        separated internally, those values don't have to be calculated every
        time that you ask for them.</p>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">auto</span> date = Date(1992, 12, 27);
<span class="d_keyword">auto</span> tod = TimeOfDay(7, 0, 22);
<span class="d_keyword">auto</span> dateTime = DateTime(1992, 12, 27, 7, 0, 22);
<span class="d_keyword">assert</span>(date == dateTime.date);
<span class="d_keyword">assert</span>(tod == dateTime.timeOfDay);
</span></pre>

    <p>A <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>, however, is an entirely different beast. It represents
        a date and time - similar to <a href="phobos/std_datetime.html#DateTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">DateTime</span></span></a> - but it goes to hnsec
        precision instead of only second precision, and it incorporates the
        concept of time zone. Its time is held internally as a 64-bit integral
        value which holds the number of hnsecs which have passed since midnight,
        January 1st, 1 A.D. in UTC. It also has a <a href="phobos/std_datetime.html#TimeZone"><span class="notranslate"><span class="d_inlinecode donthyphenate">TimeZone</span></span></a> object which it
        uses to polymorphically adjust its UTC value to the appropriate time
        zone when querying for values such as its year or hour.</p>

    <p><a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a> is the type which is used to interface with the system's
        clock. When you ask for the current time, you get a <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>. And
        because it always holds its internal value in UTC, it never has problems
        with DST or time zone changes. It has most of the functions that
        <a href="phobos/std_datetime.html#DateTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">DateTime</span></span></a> has as well as a number of functions specific to it. It can
        be cast to the other 3 time point types as well as be constructed from
        them, but you do risk problems with DST when creating a <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a> from
        the other 3 time points unless you specifically create the <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>
        with a <a href="phobos/std_datetime.html#TimeZone"><span class="notranslate"><span class="d_inlinecode donthyphenate">TimeZone</span></span></a> which doesn't have DST (such as
        <a href="phobos/std_datetime.html#UTC"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime.UTC</span></span></a>), since when a time zone has DST, one hour of
        the year does not exist, and another exists twice. You can also convert
        to and from unix time, which is what you're dealing with in C with
        <span class="notranslate"><span class="d_inlinecode donthyphenate">time_t</span></span>.</p>

    <p>The one other related type which I should mention at this point is
        <a href="phobos/core_time.html#FracSec"><span class="notranslate"><span class="d_inlinecode donthyphenate">core.time.FracSec</span></span></a>. It holds fractional seconds, and it is
        what you get from a <a href="phobos/core_time.html#Duration"><span class="notranslate"><span class="d_inlinecode donthyphenate">Duration</span></span></a> or <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a> when you specifically
        ask for the fractional portion of the time.</p>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">auto</span> st1 = Clock.currTime(); <span class="d_comment">//Current time in local time.
</span><span class="d_keyword">auto</span> st2 = Clock.currTime(UTC()); <span class="d_comment">//Current time in UTC.
</span><span class="d_keyword">auto</span> st3 = SysTime(DateTime(1992, 12, 27, 7, 0, 22), FracSec.from!<span class="d_string">"usecs"</span>(5));
<span class="d_keyword">assert</span>((<span class="d_keyword">cast</span>(Date)st3) == Date(1992, 12, 27));
<span class="d_keyword">assert</span>((<span class="d_keyword">cast</span>(TimeOfDay)st3) == TimeOfDay(7, 0, 22));
<span class="d_keyword">assert</span>((<span class="d_keyword">cast</span>(DateTime)st3) == DateTime(1992, 12, 27, 7, 0, 22));
<span class="d_keyword">assert</span>(st3.fracSec == FracSec.from!<span class="d_string">"hnsecs"</span>(50));
</span></pre>

    <h3>Time Intervals</h3>

    <p><a href="phobos/std_date.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date</span></span></a> has nothing to correspond to time intervals, so I won't
        go over them in great detail. Essentially, they're constructed from
        either two time points or a time point and a duration. <a href="phobos/std_datetime.html#Interval"><span class="notranslate"><span class="d_inlinecode donthyphenate">Interval</span></span></a>
        is a finite time interval with two end points, whereas
        <a href="phobos/std_datetime.html#PosInfInterval"><span class="notranslate"><span class="d_inlinecode donthyphenate">PosInfInterval</span></span></a> is an infinite time interval starting at a specific
        time point and going to positive infinity, and <a href="phobos/std_datetime.html#NegInfInterval"><span class="notranslate"><span class="d_inlinecode donthyphenate">NegInfInterval</span></span></a>
        is an infinite time interval starting at negative infinity and going
        to a specific time point. They have various operations for dealing
        with intersections and the like. It is also possible to create ranges
        over them if you want to operate on a range of time points. Take a
        look at the documentation for more details.</p>

    <h2>Interfacing with C</h2>

    <p>Hopefully, you can do everything that you need to do using the types in
        <a href="phobos/core_time.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">core.time</span></span></a> and <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a>, but if you do need to interface with C
        code, then you can. C's <span class="notranslate"><span class="d_inlinecode donthyphenate">time_t</span></span> uses "unix time" (seconds since
        midnight, January 1st, 1970 A.D. in UTC), whereas <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a> uses what
        it calls "std time" (hnsecs since midnight January 1st, 1 A.D. in UTC).
        Translating between the two is fairly straightforward. To get a
        <span class="notranslate"><span class="d_inlinecode donthyphenate">time_t</span></span> from a <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>, simply call <span class="notranslate"><span class="d_inlinecode donthyphenate">toUnixTime</span></span> on the
        <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>. To convert the other way around, you first need to convert
        a <span class="notranslate"><span class="d_inlinecode donthyphenate">time_t</span></span> to std time, then pass that value to <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>'s
        constructor. And if you ever simply need a <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>'s std time for
        any reason, then use its <span class="notranslate"><span class="d_inlinecode donthyphenate">stdTime</span></span> property.</p>

<pre class="d_code"><span class="notranslate">time_t unixTime = core.stdc.time.time(<span class="d_keyword">null</span>);
<span class="d_keyword">auto</span> stdTime = unixTimeToStdTime(unixTime);
<span class="d_keyword">auto</span> st = SysTime(stdTime);
<span class="d_keyword">assert</span>(unixTime == st.toUnixTime());
<span class="d_keyword">assert</span>(stdTime == st.stdTime);
</span></pre>

    <p>Hecto-nanoseconds were chosen as the internal representation of
        <a href="phobos/core_time.html#Duration"><span class="notranslate"><span class="d_inlinecode donthyphenate">Duration</span></span></a> and <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>, because that is the highest precision that
        you can use with a 64-bit integer and still cover a reasonable amount
        of time (<a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a> covers from around 29,000 B.C. to around 29,000
        A.D.). It also happens to be the same internal representation that
        C# uses, so if you need to interface with C# for any reason, converting
        between its representation of time and <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a>'s representation
        is extremely easy, since no conversion is necessary.
        <a href="http://msdn.microsoft.com/en-us/library/system.datetime.aspx">
        C#'s <span class="notranslate"><span class="d_inlinecode donthyphenate">DateTime</span></span></a> uses both the same units and epoch for its internal
        representation (which it calls <span class="notranslate"><span class="d_inlinecode donthyphenate">Ticks</span></span>) as <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>, though unlike
        <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>, it doesn't work with negative values (which would be B.C.)
        and doesn't go past the end of 9,999 A.D. Most programs are unlikely to
        care about values outside that range however. Regardless, hnsecs make
        the most sense for <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a>, which tries to have the highest
        precision that it reasonably can, so that's why they were picked.</p>

    <h2>Recommendations on Using std.datetime</h2>

    <p>Whether <a href="phobos/std_datetime.html#Date"><span class="notranslate"><span class="d_inlinecode donthyphenate">Date</span></span></a>, <a href="phobos/std_datetime.html#TimeOfDay"><span class="notranslate"><span class="d_inlinecode donthyphenate">TimeOfDay</span></span></a>, <a href="phobos/std_datetime.html#DateTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">DateTime</span></span></a>, or <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a> is more
        appropriate in a particular situation depends very much on that
        situation. <a href="phobos/std_datetime.html#Date"><span class="notranslate"><span class="d_inlinecode donthyphenate">Date</span></span></a>, <a href="phobos/std_datetime.html#TimeOfDay"><span class="notranslate"><span class="d_inlinecode donthyphenate">TimeOfDay</span></span></a>, and <a href="phobos/std_datetime.html#DateTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">DateTime</span></span></a> generally make the
        most sense when you're dealing with generic dates and times that have
        nothing to do with time zones, but if you're dealing with time zones
        at all or are dealing with anything which needs to worry about DST,
        you should use <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>. Because it keeps its time internally in UTC,
        it avoids problems with DST. And while it does have a time zone
        component, it defaults to <a href="phobos/std_datetime.html#LocalTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime.LocalTime</span></span></a> (which
        is the time zone type for the local time of the system), so you don't
        generally have to deal directly with time zones if you don't want to.</p>

    <p>If you <i>do</i> want to deal with time zones, then the time zone types
        in <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a> are <a href="phobos/std_datetime.html#LocalTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">LocalTime</span></span></a>, <a href="phobos/std_datetime.html#UTC"><span class="notranslate"><span class="d_inlinecode donthyphenate">UTC</span></span></a>, <a href="phobos/std_datetime.html#SimpleTimeZone"><span class="notranslate"><span class="d_inlinecode donthyphenate">SimpleTimeZone</span></span></a>, <a href="phobos/std_datetime.html#PosixTimeZone"><span class="notranslate"><span class="d_inlinecode donthyphenate">PosixTimeZone</span></span></a>,
        and <a href="phobos/std_datetime.html#WindowsTimeZone"><span class="notranslate"><span class="d_inlinecode donthyphenate">WindowsTimeZone</span></span></a> - or if for some reason, they don't do what you need,
        you can always create your own time zone class derived from <a href="phobos/std_datetime.html#TimeZone"><span class="notranslate"><span class="d_inlinecode donthyphenate">TimeZone</span></span></a>.
        That's unlikely to be necessary, however (and if you think that you
        have come up with such a class which would be generally useful, please
        bring it up in the
        <a href="http://www.digitalmars.com/NewsGroup.html">digitalmars.D newsgroup</a>,
        since if it's truly generally useful, we may want some version of it in
        <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a>). Read their documentation for more details. Most
        applications shouldn't have to worry about time zones though, beyond
        perhaps using <a href="phobos/std_datetime.html#UTC"><span class="notranslate"><span class="d_inlinecode donthyphenate">UTC</span></span></a> instead of <a href="phobos/std_datetime.html#LocalTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">LocalTime</span></span></a> in some cases.</p>

    <p>When it comes to saving a time point to disk or a database or something
        similar, I would generally recommend using the <span class="notranslate"><span class="d_inlinecode donthyphenate">toISOString</span></span> or
        <span class="notranslate"><span class="d_inlinecode donthyphenate">toISOExtString</span></span> functions, since both are standard ISO formats
        for date-time strings (<span class="notranslate"><span class="d_inlinecode donthyphenate">toISOExtString</span></span> is likely better in the
        general case, since it's more humanly readable, but they're both
        standard). You can then use <span class="notranslate"><span class="d_inlinecode donthyphenate">fromISOString</span></span> or <span class="notranslate"><span class="d_inlinecode donthyphenate">fromISOExtString</span></span>
        to recreate the appropriate time type later. <span class="notranslate"><span class="d_inlinecode donthyphenate">toString</span></span> uses the
        <span class="notranslate"><span class="d_inlinecode donthyphenate">toSimpleString</span></span> function, which is an invention of Boost and is
        somewhat more humanly readable, but it isn't standard, so you probably
        shouldn't use it for saving time point values.</p>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">auto</span> dateTime = DateTime(1997, 5, 4, 12, 22, 3);
<span class="d_keyword">assert</span>(dateTime.toISOString() == <span class="d_string">"19970504T122203"</span>);
<span class="d_keyword">assert</span>(dateTime.toISOExtString() == <span class="d_string">"1997-05-04T12:22:03"</span>);
<span class="d_keyword">assert</span>(dateTime.toSimpleString() == <span class="d_string">"1997-May-04 12:22:03"</span>);
<span class="d_keyword">auto</span> restored = DateTime.fromISOExtString(dateTime.toISOExtString());
<span class="d_keyword">assert</span>(dateTime == restored);
</span></pre>

    <p>One area with saving times as strings which gets a bit awkward is time
        zones. The time zone is included in the string as part of the ISO
        standard, but all it contains is the total offset from UTC at that
        particular date and time, so you can't generally use an ISO string
        (extended or otherwise) to get the exact time zone which the <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>
        originally had. Rather, it will be restored with a <a href="phobos/std_datetime.html#SimpleTimeZone"><span class="notranslate"><span class="d_inlinecode donthyphenate">SimpleTimeZone</span></span></a> with the
        given offset from UTC (except in the case of UTC, where it can restore
        <a href="phobos/std_datetime.html#UTC"><span class="notranslate"><span class="d_inlinecode donthyphenate">UTC</span></span></a>). On the other hand, if you're using <a href="phobos/std_datetime.html#LocalTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">LocalTime</span></span></a>, then the time
        zone is not part of the string (per the ISO standard), and restoring the
        <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a> will restore it to whatever the current time zone is on the
        box, regardless of what the original time zone was. However, because in
        all cases, except for <a href="phobos/std_datetime.html#LocalTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">LocalTime</span></span></a>, the UTC offset is included in the
        string, it is generally possible to get the exact UTC time that the
        <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a> was for. But you can't usually restore the original time zone
        from just the ISO string.</p>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">auto</span> local = SysTime(629_983_705_230_000_035);
<span class="d_keyword">auto</span> utc = local.toUTC();
<span class="d_keyword">auto</span> other = local.toOtherTZ(TimeZone.getTimeZone(<span class="d_string">"America/New_York"</span>));

<span class="d_comment">//This assumes that you're in "America/Los_Angeles". You'd get a different
</span><span class="d_comment">//time if you're in a different time zone.
</span><span class="d_keyword">assert</span>(local.toISOExtString() == <span class="d_string">"1997-05-04T12:22:03.0000035"</span>);

<span class="d_keyword">assert</span>(utc.toISOExtString() == <span class="d_string">"1997-05-04T19:22:03.0000035Z"</span>);
<span class="d_keyword">assert</span>(other.toISOExtString() == <span class="d_string">"1997-05-04T15:22:03.0000035-04:00"</span>);

<span class="d_keyword">auto</span> restLocal = SysTime.fromISOExtString(local.toISOExtString());
<span class="d_keyword">auto</span> restUTC = SysTime.fromISOExtString(utc.toISOExtString());
<span class="d_keyword">auto</span> restOther = SysTime.fromISOExtString(other.toISOExtString());

<span class="d_comment">//Only guaranteed because it's on the same machine.
</span><span class="d_keyword">assert</span>(restLocal == local);

<span class="d_comment">//Guaranteed regardless of machine. Their internal values could differ however.
</span><span class="d_keyword">assert</span>(<span class="d_keyword">cast</span>(DateTime)restLocal == <span class="d_keyword">cast</span>(DateTime)local);

<span class="d_comment">//Time zone is UTC for both.
</span><span class="d_keyword">assert</span>(restUTC == utc);

<span class="d_comment">//Time zone for restOther is SimpleTimeZone(-4 * 60), not "America/New_York".
</span><span class="d_keyword">assert</span>(restOther == other);
</span></pre>

    <p>To summarize, <a href="phobos/std_datetime.html#UTC"><span class="notranslate"><span class="d_inlinecode donthyphenate">UTC</span></span></a> and <a href="phobos/std_datetime.html#SimpleTimeZone"><span class="notranslate"><span class="d_inlinecode donthyphenate">SimpleTimeZone</span></span></a> can be restored exactly using an
        ISO or ISO extended string. However, none of the other <a href="phobos/std_datetime.html#TimeZone"><span class="notranslate"><span class="d_inlinecode donthyphenate">TimeZone</span></span></a>s can
        be. <a href="phobos/std_datetime.html#LocalTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">LocalTime</span></span></a> is restored with the same date and time but in the
        local time zone of the computer it's restored on, so its std time may
        differ. Other time zones end up with the restored <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a> having the
        same std time as the original, but the new time zone is a <a href="phobos/std_datetime.html#SimpleTimeZone"><span class="notranslate"><span class="d_inlinecode donthyphenate">SimpleTimeZone</span></span></a>
        with the same total UTC offset which the original time zone had at the
        given std time, but you don't get the original time zone back. That
        works just fine if you don't ever need to change the value of that
        <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a> or need to know the name of the original time zone, but it is
        inadequate if you need to do either of those, since the rules for
        the new time zone won't match those of the original.</p>

    <p>So, if you don't care about the time zone or if the restored <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>
        has the same std time as the original, then <a href="phobos/std_datetime.html#LocalTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">LocalTime</span></span></a> is fine.
        However, if you want the std time to be consistent, then avoid
        <a href="phobos/std_datetime.html#LocalTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">LocalTime</span></span></a>. In most cases, I'd advise simply using <a href="phobos/std_datetime.html#UTC"><span class="notranslate"><span class="d_inlinecode donthyphenate">UTC</span></span></a> as the
        time zone when saving the time. And if you want to restore the time zone
        such that it's the same time zone with the same rules as it was prior to
        saving the time, then you're going to need to save that information
        yourself. With a <a href="phobos/std_datetime.html#PosixTimeZone"><span class="notranslate"><span class="d_inlinecode donthyphenate">PosixTimeZone</span></span></a> or a <a href="phobos/std_datetime.html#WindowsTimeZone"><span class="notranslate"><span class="d_inlinecode donthyphenate">WindowsTimeZone</span></span></a>, all you have to do is
        save the time zone's <span class="notranslate"><span class="d_inlinecode donthyphenate">name</span></span> (which for them is the TZ database name
        and the Windows time zone name of that time zone respectively). That can
        be used to restore the time zone. If it's a <a href="phobos/std_datetime.html#SimpleTimeZone"><span class="notranslate"><span class="d_inlinecode donthyphenate">SimpleTimeZone</span></span></a> or <a href="phobos/std_datetime.html#UTC"><span class="notranslate"><span class="d_inlinecode donthyphenate">UTC</span></span></a>, then
        you don't have to do anything, because the ISO string will be enough. If
        you're using <a href="phobos/std_datetime.html#LocalTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">LocalTime</span></span></a>, however, you're in a bit of a bind.</p>

    <p>The restored time zone will be <a href="phobos/std_datetime.html#LocalTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">LocalTime</span></span></a>, so if you want it to be
        whatever the local time of the computer you're doing the restoring on
        is, then you're fine. But if you want to be able to have the same actual
        time zone restored regardless of the local time of the computer
        restoring the time, you'll need to figure out what the time zone's TZ
        database name or Windows time zone name is on the original computer so
        that you can use it to get its corresponding <a href="phobos/std_datetime.html#PosixTimeZone"><span class="notranslate"><span class="d_inlinecode donthyphenate">PosixTimeZone</span></span></a> or <a href="phobos/std_datetime.html#WindowsTimeZone"><span class="notranslate"><span class="d_inlinecode donthyphenate">WindowsTimeZone</span></span></a>
        on the computer that's doing the restoring. But it's actually
        <i>really</i> hard to accurately determine the TZ database name or Windows
        time zone name of the local time zone on any OS other than on Windows,
        so <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a> doesn't currently provide a way to do that. I expect
        that such a requirement would be quite rare however. In most cases,
        you'll care about <a href="phobos/std_datetime.html#LocalTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">LocalTime</span></span></a> and/or <a href="phobos/std_datetime.html#UTC"><span class="notranslate"><span class="d_inlinecode donthyphenate">UTC</span></span></a>, and even if you're using
        <a href="phobos/std_datetime.html#PosixTimeZone"><span class="notranslate"><span class="d_inlinecode donthyphenate">PosixTimeZone</span></span></a> or <a href="phobos/std_datetime.html#WindowsTimeZone"><span class="notranslate"><span class="d_inlinecode donthyphenate">WindowsTimeZone</span></span></a>, odds are that restoring the time with the
        correct std time value and correct UTC offset will be enough (and if
        it's not, you can always save the time zone's name to restore the
        correct <a href="phobos/std_datetime.html#PosixTimeZone"><span class="notranslate"><span class="d_inlinecode donthyphenate">PosixTimeZone</span></span></a> or <a href="phobos/std_datetime.html#WindowsTimeZone"><span class="notranslate"><span class="d_inlinecode donthyphenate">WindowsTimeZone</span></span></a>). It's just <a href="phobos/std_datetime.html#LocalTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">LocalTime</span></span></a> that has
        the problem. However, if a function to accurately determine the TZ
        database name of the local time zone on Posix systems is ever devised,
        then it will be added to <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a>.</p>

    <p>The other, more compact, option for saving a <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a> is to just save
        its std time as a 64-bit integer. It's not really humanly readable
        like an ISO or ISO extended string would be, but it takes up less space
        if saved as an actual number rather than a string. However, you do then
        have to worry about the time zone yourself entirely if you wish to be
        able to restore it. But if you save the current UTC offset (meaning
        the UTC offset with the DST offset applied - such as an ISO string would
        include), that would be enough to correctly give what the time would
        have been in the original time zone even if you can't restore that time
        zone.</p>

    <p>Well, that's probably more than enough on time zones. In most cases, you
        shouldn't need to care about them (<a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a> is designed to make it
        so that you shouldn't have to worry about them if you don't want to),
        but <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a> strives to give the best tools possible for handling
        time zones when you actually want to. Regardless, by far the biggest
        gain that <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a> gives you is that its internal time is always in
        UTC, so regardless of whether you try and do anything with time zones
        explicitly, you won't have any problems with DST changes when dealing
        with <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.</p>

    <p>One last suggestion on using <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a> would be that if you need to
        query it for more than one of its properties (e.g. <span class="notranslate"><span class="d_inlinecode donthyphenate">day</span></span> or
        <span class="notranslate"><span class="d_inlinecode donthyphenate">hour</span></span>), or if you need to do it many times in a row, and the
        <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a> isn't going to change, then you should probably cast it to
        another time point type (probably <a href="phobos/std_datetime.html#DateTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">DateTime</span></span></a>) and query <i>it</i> for
        those values. The reason for this is that every time that you call a
        property function on a <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>, it has to convert its internal std
        time to the value of the property that you're asking for, whereas if you
        convert it to a <a href="phobos/std_datetime.html#DateTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">DateTime</span></span></a>, the <a href="phobos/std_datetime.html#DateTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">DateTime</span></span></a> holds those values
        separately, and you only have to do the calculations once - when you
        do the conversion from the <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a> to a <a href="phobos/std_datetime.html#DateTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">DateTime</span></span></a>. If what you're
        doing doesn't need that extra boost of efficiency, then you might as
        well not bother, but it is good to be aware that it's less efficient to
        query each of <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>'s properties individually rather than
        converting it to a <a href="phobos/std_datetime.html#DateTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">DateTime</span></span></a> and then querying it.</p>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">auto</span> st = Clock.currTime();

<span class="d_comment">//Each value must be individually calculated.
</span>{
    <span class="d_keyword">auto</span> year = st.year;
    <span class="d_keyword">auto</span> month = st.month;
    <span class="d_keyword">auto</span> day = st.day;
    <span class="d_keyword">auto</span> hour = st.hour;
    <span class="d_keyword">auto</span> minute = st.minute;
    <span class="d_keyword">auto</span> second = st.second;
    <span class="d_keyword">auto</span> fracSec = st.fracSec;
}

<span class="d_comment">/+
    You do the calculations only twice if you convert to a DateTime
    (twice instead of once, because you're still asking for FracSec
    separately, though that particular calculation is fairly cheap).
 +/</span>
<span class="d_keyword">auto</span> dateTime = <span class="d_keyword">cast</span>(DateTime)st;
{
    <span class="d_keyword">auto</span> year = dateTime.year;
    <span class="d_keyword">auto</span> month = dateTime.month;
    <span class="d_keyword">auto</span> day = dateTime.day;
    <span class="d_keyword">auto</span> hour = dateTime.hour;
    <span class="d_keyword">auto</span> minute = dateTime.minute;
    <span class="d_keyword">auto</span> second = dateTime.second;
    <span class="d_keyword">auto</span> fracSec = st.fracSec;
}
</span></pre>

    <h2>Migrating to std.datetime</h2>

    <p>Okay, hopefully you have a fair idea of the basics of <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a>
        at this point (though there's plenty more which is covered in the
        documentation), but the big question for many is how best to handle
        converting your code from using <a href="phobos/std_date.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date</span></span></a> to using <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a>.
        When using <a href="phobos/std_date.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date</span></span></a>, you would have been using <span class="notranslate"><span class="d_inlinecode donthyphenate">d_time</span></span>, and if
        you had to worry about time zones, you were probably either using C
        functions to deal with conversions or just doing them yourself, since
        the functionality in <a href="phobos/std_date.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date</span></span></a> which relates to time zones is rather
        broken. As a result, most of what you would have done would likely be in
        UTC.</p>

    <p><a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a> holds its time internally in UTC in a manner similar to
        <span class="notranslate"><span class="d_inlinecode donthyphenate">d_time</span></span> (albeit with different units and a different epoch), and it
        is the type intended for dealing with the time from the system's clock,
        so <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a> is generally what <span class="notranslate"><span class="d_inlinecode donthyphenate">d_time</span></span> should be replaced with.
        Functions in Phobos which previously took or returned a <span class="notranslate"><span class="d_inlinecode donthyphenate">d_time</span></span> now
        take or return a <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a> or are scheduled to be deprecated and have
        replacement functions which take or return a <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>. Generally, in
        the case where a function took a <span class="notranslate"><span class="d_inlinecode donthyphenate">d_time</span></span>, that function is now
        overloaded with a version which takes a <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>, but in cases where a
        function could not be overloaded (such as when it simply returned a
        <span class="notranslate"><span class="d_inlinecode donthyphenate">d_time</span></span>), a new function has been added to replace the old one (so
        as to avoid breaking existing code). The module that this impacts the
        most is <a href="phobos/std_file.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.file</span></span></a>
. For example,</p>

<pre class="d_code"><span class="notranslate">d_time dTime = <span class="d_string">"myfile.txt"</span>.lastModified();
SysTime sysTime = <span class="d_string">"myfile.txt"</span>.timeLastModified();

setTimes(<span class="d_string">"yourfile.txt"</span>, dTime, dTime + 5);
setTimes(<span class="d_string">"yourfile.txt"</span>, sysTime, sysTime + dur!<span class="d_string">"msecs"</span>(5));
</span></pre>

    <p>With all such functions, it's simply a matter of changing the type of
        the argument that you're passing to the function or assigning its
        return value to and possibly changing the function name that you're
        calling so that it's the version that returns a <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>. Those
        changes are quite straightforward and not particularly disruptive. Of
        greater concern are the formats that times are printed or saved in
        and how time zones are dealt with.</p>

    <p>If you were saving the integral <span class="notranslate"><span class="d_inlinecode donthyphenate">d_time</span></span> value anywhere, then you're
        either going to have to switch to saving a value that <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a> would
        use as discussed previously (such as its std time or its ISO string),
        or you're going to have be converting between <span class="notranslate"><span class="d_inlinecode donthyphenate">d_time</span></span> and
        <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>. At present, the functions
        <a href="phobos/std_datetime.html#sysTimeToDTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime.sysTimeToDTime</span></span></a> and
        <a href="phobos/std_datetime.html#dTimeToSysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime.dTimeToSysTime</span></span></a> will do those conversions for you.
        So, converting between the two formats is easy. However, because
        <span class="notranslate"><span class="d_inlinecode donthyphenate">d_time</span></span> is going away, those functions will be going away. That
        means that you either need to refactor your code so that those functions
        aren't necessary, or you need to copy them to your own code to continue
        to use them.</p>

     <p>As for formatted strings, <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a> currently only supports
         ISO strings, ISO extended strings, and Boost's simple string.
         Eventually, it should have functions for custom strings, but a
         well-designed function for creating custom strings based on format
         strings is not easy to design, and it hasn't been done for
         <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a> yet (it's on my todo list, but it could be a while
         before I get to it). So, in general, you're either going to have to
         switch to using one of the string formats that <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a>
         supports, or you're going to have to generate and parse the string
         format that you want yourself. In some cases, you should be able to
         adjust the string that <span class="notranslate"><span class="d_inlinecode donthyphenate">core.stdc.time.ctime</span></span> gives you, and in
         others, you may be able to use <span class="notranslate"><span class="d_inlinecode donthyphenate">toISOExtString</span></span> and adjust what
         <i>it</i> gives you, but there's a decent chance that you're going to
         have to just create and parse the strings yourself using the various
         properties on <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>. One major difference between the string
         functions in <a href="phobos/std_date.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date</span></span></a> and those in <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a> to note is that
         unlike <a href="phobos/std_date.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date</span></span></a>, aside from Boost's simple strings, nothing in
         <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a> prints the names of months or weekdays, because that
         poses a localization issue. So, unless you're using
         <span class="notranslate"><span class="d_inlinecode donthyphenate">core.stdc.time.ctime</span></span> to get those values, you're going to have
         to create the names yourself.</p>

     <p>Now, if you were doing anything with time zones with <a href="phobos/std_date.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date</span></span></a>, odds
         are that you were doing all of those conversions yourself (since that's
         one of the areas where <a href="phobos/std_date.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date</span></span></a> is buggy). That being the case,
         you probably have the offset from UTC and the offset adjustment for
         DST for whatever time zone you're dealing with. What is likely the
         best way to handle that is to create a <a href="phobos/std_datetime.html#SimpleTimeZone"><span class="notranslate"><span class="d_inlinecode donthyphenate">SimpleTimeZone</span></span></a> using those values.
         Simply calculate the total UTC offset (so add in the DST offset if
         it applies for the date in question) in minutes and create a <a href="phobos/std_datetime.html#SimpleTimeZone"><span class="notranslate"><span class="d_inlinecode donthyphenate">SimpleTimeZone</span></span></a>
         with that. Note that <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a> treats west of UTC as
         <i>negative</i> (for some reason, some systems - particularly Posix stuff
         - use a positive offset from UTC when west of UTC, in spite of the fact
         that when talking about time zones, negative is always used for west of
         UTC, and that's what the ISO standard strings do). So, you may have to
         adjust your values accordingly. Regardless, be very careful to make
         sure that you understand what the values you've been using represent
         in units of time and whether you need to be adding or subtracting them
         to convert them to what <a href="phobos/std_datetime.html#SimpleTimeZone"><span class="notranslate"><span class="d_inlinecode donthyphenate">SimpleTimeZone</span></span></a> expects for its offset from UTC:
         the minutes to <i>add</i> to the time in UTC to get the time in the
         target time zone.</p>

<pre class="d_code"><span class="notranslate"><span class="d_comment">//These are the same offsets as America/Los_Angeles.
</span><span class="d_keyword">auto</span> utcOffset = -8 * 60;
<span class="d_keyword">auto</span> dstOffset = 60;

<span class="d_keyword">immutable</span> tzWithDST = <span class="d_keyword">new</span> SimpleTimeZone(utcOffset + dstOffset);
<span class="d_keyword">immutable</span> tzWithoutDST = <span class="d_keyword">new</span> SimpleTimeZone(utcOffset);
</span></pre>

     <p>The last thing that I have to note is some differences in numerical
         values between <a href="phobos/std_date.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date</span></span></a> and <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a>.
         <a href="phobos/std_date.html#Date"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date.Date</span></span></a>'s <span class="notranslate"><span class="d_inlinecode donthyphenate">weekday</span></span> property gives Sunday a value of
         1, but <a href="phobos/std_date.html#weekDay"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date.weekDay</span></span></a> gives Sunday a value of 0.
         <a href="phobos/std_datetime.html#DayOfWeek"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime.DayOfWeek</span></span></a> gives Sunday a value of 0. So,
         depending on which part of <a href="phobos/std_date.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date</span></span></a> you're dealing with it, it
         may or may not match what <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a> is doing for the numerical
         values of weekdays. Months have a similar problem.
         <a href="phobos/std_date.html#Date"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date.Date</span></span></a>'s <span class="notranslate"><span class="d_inlinecode donthyphenate">month</span></span> property gives January a value of
         1 - which matches what <a href="phobos/std_datetime.html#Month"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime.Month</span></span></a> does - but
         <a href="phobos/std_date.html#monthFromTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date.monthFromTime</span></span></a> gives January a value of 0. So,
         just as with the days of the week, you have to be careful with the
         numerical values of the months. Whether <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a> matches what
         <a href="phobos/std_date.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date</span></span></a> is doing depends on which part of <a href="phobos/std_date.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date</span></span></a> you're using.
         And as you'll notice, it's not even consistent as to whether
         <a href="phobos/std_date.html#Date"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date.Date</span></span></a> or the free function in <a href="phobos/std_date.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date</span></span></a> is the one
         which matches <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a>. So, you should be very careful when
         converting code which uses numerical values for either the days of the
         week or the months of the year.</p>

    <center><table cellspacing=0 cellpadding=5 valign=top class=book><caption><h3>std.date symbols and their std.datetime counterparts</h3></caption>
        <tr><td><b><a href="phobos/std_date.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date</span></span></a></b></td>
             <td><b><a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a> Equivalent</b></td></tr>
        <tr><td><a href="phobos/std_date.html#d_time"><span class="notranslate"><span class="d_inlinecode donthyphenate">d_time</span></span></a></td>
             <td>The closest would be <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.</td></tr>
        <tr><td><a href="phobos/std_date.html#d_time_nan"><span class="notranslate"><span class="d_inlinecode donthyphenate">d_time_nan</span></span></a></td>
             <td>There is no equivalent. <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">init</span></span>, which has a
                  <span class="notranslate"><span class="d_inlinecode donthyphenate">null</span></span> <a href="phobos/std_datetime.html#TimeZone"><span class="notranslate"><span class="d_inlinecode donthyphenate">TimeZone</span></span></a> object, would be the closest, but once
                  CTFE advances to the point that you can new up class objects
                  with it, <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">init</span></span>'s <span class="notranslate"><span class="d_inlinecode donthyphenate">timezone</span></span> will be
                  <a href="phobos/std_datetime.html#LocalTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">LocalTime</span></span></a>, so don't rely on <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">init</span></span> being
                  invalid. <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a> in general tries to avoid having any
                  invalid states for any of its types. It's intended that
                  creating such values be impossible.</td></tr>
        <tr><td><a href="phobos/std_date.html#Date"><span class="notranslate"><span class="d_inlinecode donthyphenate">Date</span></span></a></td>
             <td><a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a></td></tr>
        <tr><td><a href="phobos/std_date.html#Date"><span class="notranslate"><span class="d_inlinecode donthyphenate">Date</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">year</span></span></td>
             <td><a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">year</span></span></td></tr>
        <tr><td><a href="phobos/std_date.html#Date"><span class="notranslate"><span class="d_inlinecode donthyphenate">Date</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">month</span></span></td>
             <td><a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">month</span></span></td></tr>
        <tr><td><a href="phobos/std_date.html#Date"><span class="notranslate"><span class="d_inlinecode donthyphenate">Date</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">day</span></span></td>
             <td><a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">day</span></span></td></tr>
        <tr><td><a href="phobos/std_date.html#Date"><span class="notranslate"><span class="d_inlinecode donthyphenate">Date</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">hour</span></span></td>
             <td><a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">hour</span></span></td></tr>
        <tr><td><a href="phobos/std_date.html#Date"><span class="notranslate"><span class="d_inlinecode donthyphenate">Date</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">minute</span></span></td>
             <td><a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">minute</span></span></td></tr>
        <tr><td><a href="phobos/std_date.html#Date"><span class="notranslate"><span class="d_inlinecode donthyphenate">Date</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">second</span></span></td>
             <td><a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">second</span></span></td></tr>
        <tr><td><a href="phobos/std_date.html#Date"><span class="notranslate"><span class="d_inlinecode donthyphenate">Date</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">ms</span></span></td>
             <td><a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">fracSec.msecs</span></span></td></tr>
        <tr><td><a href="phobos/std_date.html#Date"><span class="notranslate"><span class="d_inlinecode donthyphenate">Date</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">weekday</span></span></td>
             <td><a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">dayOfWeek</span></span> - but note that the values are off
                  by 1.</td></tr>
        <tr><td><a href="phobos/std_date.html#Date"><span class="notranslate"><span class="d_inlinecode donthyphenate">Date</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">tzcorrection</span></span></td>
             <td><pre class="d_code"><span class="notranslate"><span class="d_keyword">immutable</span> tz = sysTime.timezone;
<span class="d_keyword">auto</span> diff = tz.utcToTZ(sysTime.stdTime) - sysTime.stdTime;
<span class="d_keyword">auto</span> tzcorrection = convert!(<span class="d_string">"hnsecs"</span>, <span class="d_string">"minutes"</span>)(diff);
</span></pre>
However, it looks like <span class="notranslate"><span class="d_inlinecode donthyphenate">tzcorrection</span></span> is broken, so you're probably not using
it in your code anyway.
              </td></tr>
        <tr><td><a href="phobos/std_date.html#Date"><span class="notranslate"><span class="d_inlinecode donthyphenate">Date</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">parse</span></span></td>
             <td><a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">fromISOString</span></span>,
                  <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">fromISOExtString</span></span>, and
                  <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">fromSimpleString</span></span>, but the formats of the
                  strings differ from what <a href="phobos/std_date.html#Date"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date.Date</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">parse</span></span>
                  accepts.</td></tr>
        <tr><td><a href="phobos/std_date.html#ticksPerSecond"><span class="notranslate"><span class="d_inlinecode donthyphenate">ticksPerSecond</span></span></a></td>
             <td>There is no equivalent. It's only relevant to <span class="notranslate"><span class="d_inlinecode donthyphenate">d_time</span></span>.</td></tr>
        <tr><td><a href="phobos/std_date.html#toISO8601YearWeek"><span class="notranslate"><span class="d_inlinecode donthyphenate">toISO8601YearWeek</span></span></a></td>
             <td><a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">isoWeek</span></span></td></tr>
        <tr><td><a href="phobos/std_date.html#hourFromTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">hourFromTime</span></span></a></td>
             <td><a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">hour</span></span></td></tr>
        <tr><td><a href="phobos/std_date.html#minFromTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">minFromTime</span></span></a></td>
             <td><a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">minute</span></span></td></tr>
        <tr><td><a href="phobos/std_date.html#secFromTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">secFromTime</span></span></a></td>
             <td><a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">second</span></span></td></tr>
        <tr><td><a href="phobos/std_date.html#daysInYear"><span class="notranslate"><span class="d_inlinecode donthyphenate">daysInYear</span></span></a></td>
             <td><span class="notranslate"><span class="d_inlinecode donthyphenate">sysTime.isLeapYear ? 366 : 365</span></span></td></tr>
        <tr><td><a href="phobos/std_date.html#dayFromYear"><span class="notranslate"><span class="d_inlinecode donthyphenate">dayFromYear</span></span></a></td>
             <td><span class="notranslate"><span class="d_inlinecode donthyphenate">(sysTime - SysTime(Date(1970, 1, 1), UTC())).total!"days"()</span></span></td></tr>
        <tr><td><a href="phobos/std_date.html#yearFromTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">yearFromTime</span></span></a></td>
             <td><a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">year</span></span></td></tr>
        <tr><td><a href="phobos/std_date.html#inLeapYear"><span class="notranslate"><span class="d_inlinecode donthyphenate">inLeapYear</span></span></a></td>
             <td><a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">isLeapYear</span></span></td></tr>
        <tr><td><a href="phobos/std_date.html#monthFromTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">monthFromTime</span></span></a></td>
             <td><a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">month</span></span> - but note that the values are off by
                  1.</td></tr>
        <tr><td><a href="phobos/std_date.html#dateFromTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">dateFromTime</span></span></a></td>
             <td><a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">day</span></span></td></tr>
        <tr><td><a href="phobos/std_date.html#weekDay"><span class="notranslate"><span class="d_inlinecode donthyphenate">weekDay</span></span></a></td>
             <td><a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">dayOfWeek</span></span></td></tr>
        <tr><td><a href="phobos/std_date.html#UTCtoLocalTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">UTCtoLocalTime</span></span></a></td>
             <td><a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">toUTC</span></span></td></tr>
        <tr><td><a href="phobos/std_date.html#dateFromNthWeekdayOfMonth"><span class="notranslate"><span class="d_inlinecode donthyphenate">dateFromNthWeekdayOfMonth</span></span></a></td>
             <td><pre class="d_code"><span class="notranslate"><span class="d_comment">//There is no equivalent. This is a possible implementation.
</span><span class="d_keyword">int</span> dateFromNthWeekdayOfMonth(<span class="d_keyword">int</span> year, Month month,
                              DayOfWeek dow, <span class="d_keyword">int</span> n)
{
    <span class="d_keyword">auto</span> first = Date(year, month, 1);
    <span class="d_keyword">auto</span> target = first;
    <span class="d_keyword">immutable</span> targetDOTW = target.dayOfWeek;

    <span class="d_keyword">if</span>(targetDOTW != dow)
    {
        <span class="d_keyword">if</span>(targetDOTW &lt; dow)
            target += dur!<span class="d_string">"days"</span>(dow - targetDOTW);
        <span class="d_keyword">else</span>
        {
            target += dur!<span class="d_string">"days"</span>((DayOfWeek.sat - targetDOTW) +
                                 dow + 1);
        }
    }

    target += dur!<span class="d_string">"weeks"</span>(n - 1);

    <span class="d_keyword">if</span>(target.month != first.month)
        target -= dur!<span class="d_string">"weeks"</span>(1);

    <span class="d_keyword">return</span> <span class="d_keyword">cast</span>(<span class="d_keyword">int</span>)((target - first).total!<span class="d_string">"days"</span>()) + 1;
}
</span></pre>
              </td></tr>
        <tr><td><a href="phobos/std_date.html#daysInMonth"><span class="notranslate"><span class="d_inlinecode donthyphenate">daysInMonth</span></span></a></td>
             <td><a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">endOfMonthDay</span></span>; Actually, this name is overly
                  easy to confuse with <span class="notranslate"><span class="d_inlinecode donthyphenate">endOfMonth</span></span> - which returns a
                  <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a> of the last day of the month. I will probably
                  rename this to <span class="notranslate"><span class="d_inlinecode donthyphenate">daysInMonth</span></span>. But if I do, it won't be
                  until the next release (2.054), and this name will be around
                  until it's gone through the full deprecation cycle.</td></tr>
        <tr><td><a href="phobos/std_date.html#UTCtoString"><span class="notranslate"><span class="d_inlinecode donthyphenate">UTCtoString</span></span></a></td>
             <td>There is no equivalent. You could probably parse and recombine
                  <span class="notranslate"><span class="d_inlinecode donthyphenate">core.stdc.time.ctime</span></span> and
                  <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">toISOExtString</span></span> to create it though. However,
                  this function appears to be fairly buggy in the first place,
                  so odds are that your code isn't using it anyway.</td></tr>
        <tr><td><a href="phobos/std_date.html#toUTCString"><span class="notranslate"><span class="d_inlinecode donthyphenate">toUTCString</span></span></a></td>
             <td>There is no equivalent. You could probably parse and recombine
                  <span class="notranslate"><span class="d_inlinecode donthyphenate">core.stdc.time.ctime</span></span> and
                  <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">toISOExtString</span></span> to create it though.</td></tr>
        <tr><td><a href="phobos/std_date.html#toDateString"><span class="notranslate"><span class="d_inlinecode donthyphenate">toDateString</span></span></a></td>
             <td>There is no equivalent. You could probably parse and recombine
                  <span class="notranslate"><span class="d_inlinecode donthyphenate">core.stdc.time.ctime</span></span> and
                  <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">toISOExtString</span></span> to create it though. However,
                  this function appears to be fairly buggy in the first place,
                  so odds are that your code isn't using it anyway.</td></tr>
        <tr><td><a href="phobos/std_date.html#toTimeString"><span class="notranslate"><span class="d_inlinecode donthyphenate">toTimeString</span></span></a></td>
             <td>There is no equivalent. You could probably parse and recombine
                  <span class="notranslate"><span class="d_inlinecode donthyphenate">core.stdc.time.ctime</span></span> and
                  <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">toISOExtString</span></span> to create it though. However,
                  this function appears to be fairly buggy in the first place,
                  so odds are that your code isn't using it anyway.</td></tr>
        <tr><td><a href="phobos/std_date.html#parse"><span class="notranslate"><span class="d_inlinecode donthyphenate">parse</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">parse</span></span></td>
             <td><a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">fromISOString</span></span>,
                  <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">fromISOExtString</span></span>, and
                  <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a>.<span class="notranslate"><span class="d_inlinecode donthyphenate">fromSimpleString</span></span>, but the formats of the
                  strings differ from what <a href="phobos/std_date.html#parse"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date.parse</span></span></a> accepts.</td></tr>
        <tr><td><a href="phobos/std_date.html#getUTCtime"><span class="notranslate"><span class="d_inlinecode donthyphenate">getUTCtime</span></span></a></td>
             <td><span class="notranslate"><span class="d_inlinecode donthyphenate">Clock.currTime(UTC())</span></span> if you want the <a href="phobos/std_datetime.html#SysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTime</span></span></a> to have
                  its time zone be <a href="phobos/std_datetime.html#UTC"><span class="notranslate"><span class="d_inlinecode donthyphenate">UTC</span></span></a>. More likely though, you'll just use
                  <span class="notranslate"><span class="d_inlinecode donthyphenate">Clock.currTime()</span></span>. Its internal time is in UTC
                  regardless.</td></tr>
        <tr><td><a href="phobos/std_date.html#DosFileTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">DosFileTime</span></span></a></td>
             <td><a href="phobos/std_datetime.html#DosFileTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">DosFileTime</span></span></a></td></tr>
        <tr><td><a href="phobos/std_date.html#toDtime"><span class="notranslate"><span class="d_inlinecode donthyphenate">toDtime</span></span></a></td>
             <td><a href="phobos/std_datetime.html#DosFileTimeToSysTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">DosFileTimeToSysTime</span></span></a></td></tr>
        <tr><td><a href="phobos/std_date.html#toDosFileTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">toDosFileTime</span></span></a></td>
             <td><a href="phobos/std_datetime.html#SysTimeToDosFileTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">SysTimeToDosFileTime</span></span></a></td></tr>
        <tr><td><a href="phobos/std_date.html#benchmark"><span class="notranslate"><span class="d_inlinecode donthyphenate">benchmark</span></span></a></td>
             <td><a href="phobos/std_datetime.html#benchmark"><span class="notranslate"><span class="d_inlinecode donthyphenate">benchmark</span></span></a></td></tr>
    </table></center>

    <p>Note that I'm not an expert on what does and doesn't work in
        <a href="phobos/std_date.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date</span></span></a>, so while I have noted some of the functions that I know to
        be broken, just because a function isn't labeled as broken in the above
        table does not mean that it works correctly. And any function which
        doesn't work correctly is obviously not going to give the same results
        as the <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a> equivalent, since it's almost certain that the
        <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a> version isn't buggy, let alone buggy in the same way (if
        it is buggy, the bug is almost certainly going to be far more subtle
        than any bug in <a href="phobos/std_date.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date</span></span></a>, since <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a> is quite thoroughly
        unit tested).</p>

    <h2>Conclusion</h2>

    <p>Hopefully this article has improved your understanding of
        <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a> and will get you well on your way to being able to
        migrate your code from <a href="phobos/std_date.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date</span></span></a> to <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a>. If you have any
        further questions, please ask them on the
        <a href="http://www.digitalmars.com/NewsGroup.html">digitalmars.D.learn newsgroup</a>.
        And if there's a major use case of <a href="phobos/std_date.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.date</span></span></a> which is not easy to
        convert over to <a href="phobos/std_datetime.html"><span class="notranslate"><span class="d_inlinecode donthyphenate">std.datetime</span></span></a> which I missed in this
        article and you think should be in it, please feel free to bring it up
        on the
        <a href="http://www.digitalmars.com/NewsGroup.html">digitalmars.D newsgroup</a>,
        and if need be, I'll update this article with the relevant information.</p>
 
  
<div id="google_ad">
<!-- Google ad -->
<script type="text/javascript"><!--
/**/google_ad_client = "pub-5628673096434613";
/**/google_ad_width = 728;
/**/google_ad_height = 90;
/**/google_ad_format = "728x90_as";
/**/google_ad_channel ="3651639259";
/**/google_page_url = document.location;
//--></script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>

</div><!--/content-->





<div id="footernav">
<a href="http://forum.dlang.org/" title="User Forums">Forums</a> |
<a href="http://wiki.dlang.org/DocComments/" title="Read/write comments and feedback">Comments</a> |
<a href="http://digitalmars.com/advancedsearch.html" title="Search Digital Mars web site">Search</a> |
<a href="download.html" title="Download D">Downloads</a> |
<a href="/">Home</a>
</div>
<div id="copyright">

Copyright &copy; 1999-2013 by Digital Mars &reg;, All Rights Reserved
 |
Page generated by <a href="ddoc.html">Ddoc</a> on <a href="phobos/std_datetime.html#DateTime"><span class="notranslate"><span class="d_inlinecode donthyphenate">DateTime</span></span></a>

</div>

</body>
</html>

