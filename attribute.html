
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en-US">

<!--
	Copyright (c) 1999-2013 by Digital Mars
	All Rights Reserved Written by Walter Bright
	http://digitalmars.com
  -->

<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="keywords" content="D programming language" />
<meta name="description" content="D Programming Language" />
<title>Attributes - D Programming Language</title>
<link rel="stylesheet" href="css/codemirror.css" />
<link rel="stylesheet" type="text/css" href="css/style.css" />
<link rel="stylesheet" type="text/css" href="css/print.css" media="print" />
<link rel="shortcut icon" href="favicon.ico" />

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
<script src="/js/codemirror.js"></script>
<script src="/js/run-main-website.js" type="text/javascript"></script>
<script src="/js/d.js"></script>
<script src="/js/run.js" type="text/javascript"></script>

<script type="text/javascript">
function bodyLoad()
{
	var links = document.getElementById("navigation").getElementsByTagName("a");
	for (var i = 0; i < links.length; i++)
	{
		var url = "/" + links[i].getAttribute("href");
		if (window.location.href.match(url + "\x24") == url)
		{
			var cls = links[i].getAttribute("class");
			links[i].setAttribute("class", cls ? cls + " active" : "active");
			break;
		}
	}
}
</script>
</head>

<body onLoad='bodyLoad()'>

<div id="top">
	<div id="search-box">
		<form method="get" action="http://google.com/search">
			<img src="/images/search-left.gif" width="11" height="22" /><input id="q" name="q" /><input type="image" id="search-submit" name="submit" src="/images/search-button.gif" />
			<input type="hidden" id="domains" name="domains" value="dlang.org" />
			<input type="hidden" id="sourceid" name="sourceid" value="google-search" />
			<div id="search-dropdown">
				<select id="sitesearch" name="sitesearch" size="1">
					<option value="dlang.org">Entire D Site</option>
					<option value="dlang.org/phobos">Library Reference</option>
					<option value="digitalmars.com/d/archives">Newsgroup Archives</option>
				</select>
			</div>
		</form>
	</div>
	<div id="header">
		<a id="d-language" href="/">
		<img id="logo" width="125" height="95" border="0" alt="D Logo" src="/images/dlogo.png">
		D Programming Language</a>
	</div>
</div>

<!--Generated by Ddoc from attribute.dd-->



<div id="navigation">
  

<div class="navblock">
<h2><a href="index.html" title="D Programming Language">D </a></h2>
<ul>	<li><a href="overview.html" title="D language overview">Overview</a></li>

	<li><a href="comparison.html" title="D feature list">Features</a></li>

	<li><a href="download.html" title="Download a D compiler">Downloads &amp; Tools</a></li>

	<li><a href="changelog.html" title="History of changes to D">Change Log</a></li>
	<li><a href="bugstats.php" title="D issue and bug tracking system">Bug Tracker</a></li>
	<li><a href="faq.html" title="Frequently Asked Questions">FAQ</a></li>

	<li><a href="appendices.html">Appendices</a></li>
	<li><a href="acknowledgements.html" title="Thank-you to these people who have helped with D">Acknowledgments</a></li>
	<li><a href="sitemap.html" title="Documents on this site, indexed alphabetically">Sitemap</a></li>
	<li><a href="http://digitalmars.com/d/1.0/index.html" title="D Programming Language 1.0">D1 Home</a></li>
</ul>
    </div>


<div class="navblock">
<h2>Documentation</h2>
<ul>    <li><a href="http://www.amazon.com/exec/obidos/ASIN/0321635361/classicempire">Book</a>
</li>
	<li><a href="http://www.informit.com/articles/article.aspx?p=1381876">&nbsp;<font size=-1><span style="visibility: hidden">3</span>1.&nbsp;Tutorial</font></a></li>
	<li><a href="http://www.informit.com/articles/article.aspx?p=1609144">&nbsp;<font size=-1>13.&nbsp;Concurrency</font></a></li>

	<li><a href="language-reference.html">Language Reference</a>

    <div class="navblock">
<ul>	<li><a href="lex.html">Lexical</a></li>
	<li><a href="module.html">Modules</a></li>
	<li><a href="declaration.html">Declarations</a></li>
	<li><a href="type.html">Types</a></li>
	<li><a href="property.html">Properties</a></li>
	<li><a href="attribute.html">Attributes</a></li>
	<li><a href="pragma.html">Pragmas</a></li>
	<li><a href="expression.html">Expressions</a></li>
	<li><a href="statement.html">Statements</a></li>
	<li><a href="arrays.html">Arrays</a></li>
	<li><a href="hash-map.html">Associative Arrays</a></li>
	<li><a href="struct.html">Structs &amp; Unions</a></li>
	<li><a href="class.html">Classes</a></li>
	<li><a href="interface.html">Interfaces</a></li>
	<li><a href="enum.html">Enums</a></li>
	<li><a href="const3.html">Const and Immutable</a></li>
	<li><a href="function.html">Functions</a></li>
	<li><a href="operatoroverloading.html">Operator Overloading</a></li>
	<li><a href="template.html">Templates</a></li>
	<li><a href="template-mixin.html">Template Mixins</a></li>
	<li><a href="dbc.html">Contracts</a></li>
	<li><a href="version.html">Conditional Compilation</a></li>
	<li><a href="simd.html">Vector Extensions</a></li>
	<li><a href="traits.html">Traits</a></li>
	<li><a href="errors.html">Handling errors</a></li>
	<li><a href="unittest.html">Unit Tests</a></li>
	<li><a href="garbage.html">Garbage Collection</a></li>
	<li><a href="float.html">Floating Point</a></li>
	<li><a href="iasm.html">Inline Assembler</a></li>
	<li><a href="ddoc.html">Documentation Comments</a></li>
	<li><a href="interfaceToC.html">Interfacing To C</a></li>
	<li><a href="cpp_interface.html">Interfacing To C++</a></li>
	<li><a href="portability.html">Portability Guide</a></li>
	<li><a href="entity.html">Named Character Entities</a></li>
	<li><a href="memory-safe-d.html">Memory Safe D Spec</a></li>
	<li><a href="abi.html">Application Binary Interface</a></li>
    </ul>
</div>

</li>
	<li><a href="phobos/index.html">Library Reference</a></li>
	<li><a href="visuald/StartPage.html">Visual D</a></li>
	<li><a href="howtos.html" title="Helps for using D">How-tos</a></li>

	<li><a href="articles.html">Articles</a></li>
</ul>
    </div>


<div class="navblock">
<h2>Community</h2>
<ul>	<li><a href="http://forum.dlang.org/" title="User forums">Forums</a></li>
	<li><a href="http://github.com/D-Programming-Language" title="D on github">GitHub</a></li>
	<li><a href="http://wiki.dlang.org" title="Wiki for the D Programming Language">Wiki</a></li>
	<li><a href="http://wiki.dlang.org/Review_Queue" title="Queue of current and upcoming standard library additions">Review Queue</a></li>
	<li><a href="http://twitter.com/#search?q=%23d_lang" title="#d_lang on twitter.com">Twitter</a></li>
	<li><a href="http://digitalmars.com/d/dlinks.html" title="External D related links">Links</a></li>
	
</ul>
    </div>


  
<div id="translate" class="tool">Translate this page:
	<div id="google_translate_element"></div><script type="text/javascript">
	function googleTranslateElementInit() {
	  new google.translate.TranslateElement({
	    pageLanguage: 'en',
	    autoDisplay: false,
	    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
	  }, 'google_translate_element');
	}
	</script>
<script type="text/javascript" src="http://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</div>

</div><!--/navigation-->
<div id="content" class='hyphenate'>
  
<div id="tools">
	<!--span id="lastupdate">Last update Wed Oct 02 13:49:23 2013

</span-->
	<span class="tip">
		<a href="https://github.com/D-Programming-Language/dlang.org/edit/master/attribute.dd" class="button">Improve this page</a>
		<span>
			Quickly fork, edit online, and submit a pull request for this page.
			Requires a signed-in GitHub account. This works well for small changes.
			If you'd like to make larger changes you may want to consider using
			local clone.
		</span>
	</span>
	<span class="tip">
		<a href="http://wiki.dlang.org/DocComments/Attribute" class="button">Page wiki</a>
		<span>
			View or edit the community-maintained wiki page associated with this page.
		</span>
	</span>
</div>

  <h1>Attributes</h1>
  
<pre class="bnf"><span class="notranslate"><a name="AttributeSpecifier"><i>AttributeSpecifier</i></a>:
    <a href="#Attribute"><i>Attribute</i></a> <span class="notranslate"><span class="d_inlinecode donthyphenate">:</span></span>
    <a href="#Attribute"><i>Attribute</i></a> <a href="#DeclarationBlock"><i>DeclarationBlock</i></a>

<a name="Attribute"><i>Attribute</i></a>:
    <a href="#linkage"><i>LinkageAttribute</i></a>
    <a href="#align"><i>AlignAttribute</i></a>
    <a href="pragma.html#Pragma"><i>Pragma</i></a>
    <a href="#deprecated"><i>DeprecatedAttribute</i></a>
    <a href="#ProtectionAttribute"><i>ProtectionAttribute</i></a>
    <a href="#static"><span class="notranslate"><span class="d_inlinecode donthyphenate">static</span></span></a>
    <a href="#linkage"><span class="notranslate"><span class="d_inlinecode donthyphenate">extern</span></span></a>
    <span class="notranslate"><span class="d_inlinecode donthyphenate">final</span></span>
    <span class="notranslate"><span class="d_inlinecode donthyphenate">synchronized</span></span>
    <a href="#override"><span class="notranslate"><span class="d_inlinecode donthyphenate">override</span></span></a>
    <a href="#abstract"><span class="notranslate"><span class="d_inlinecode donthyphenate">abstract</span></span></a>
    <a href="#auto"><span class="notranslate"><span class="d_inlinecode donthyphenate">auto</span></span></a>
    <a href="#scope"><span class="notranslate"><span class="d_inlinecode donthyphenate">scope</span></span></a>
    <a href="#const"><span class="notranslate"><span class="d_inlinecode donthyphenate">const</span></span></a>
    <a href="#immutable"><span class="notranslate"><span class="d_inlinecode donthyphenate">immutable</span></span></a>
    <a href="#inout"><span class="notranslate"><span class="d_inlinecode donthyphenate">inout</span></span></a>
    <a href="#shared"><span class="notranslate"><span class="d_inlinecode donthyphenate">shared</span></span></a>
    <a href="#gshared"><span class="notranslate"><span class="d_inlinecode donthyphenate">__gshared</span></span></a>
    <a href="#disable"><span class="notranslate"><span class="d_inlinecode donthyphenate">@disable</span></span></a>
    <a href="#property"><span class="notranslate"><span class="d_inlinecode donthyphenate">@property</span></span></a>


<a name="DeclarationBlock"><i>DeclarationBlock</i></a>:
    <a href="module.html#DeclDef"><i>DeclDef</i></a>
    <span class="notranslate"><span class="d_inlinecode donthyphenate">{</span></span> <a href="module.html#DeclDefs"><i>DeclDefs</i></a><sub>opt</sub>
 <span class="notranslate"><span class="d_inlinecode donthyphenate">}</span></span>
</span></pre>

        <p>Attributes are a way to modify one or more declarations.
        The general forms are:
        </p>

<pre class="d_code"><span class="notranslate">attribute declaration; <span class="d_comment">// affects the declaration
</span>
attribute:     <span class="d_comment">// affects all declarations until the end of
</span>               <span class="d_comment">// the current scope
</span>  declaration;
  declaration;
  ...

attribute {    <span class="d_comment">// affects all declarations in the block
</span>  declaration;
  declaration;
  ...
}
</span></pre>

<h3><a name="linkage">Linkage Attribute</a></h3>

<pre class="bnf"><span class="notranslate"><a name="LinkageAttribute"><i>LinkageAttribute</i></a>:
    <span class="notranslate"><span class="d_inlinecode donthyphenate">extern</span></span> <span class="notranslate"><span class="d_inlinecode donthyphenate">(</span></span> <a href="#LinkageType"><i>LinkageType</i></a> <span class="notranslate"><span class="d_inlinecode donthyphenate">)</span></span>

<a name="LinkageType"><i>LinkageType</i></a>:
    <span class="notranslate"><span class="d_inlinecode donthyphenate">C</span></span>
    <span class="notranslate"><span class="d_inlinecode donthyphenate">C++</span></span>
    <span class="notranslate"><span class="d_inlinecode donthyphenate">D</span></span>
    <span class="notranslate"><span class="d_inlinecode donthyphenate">Windows</span></span>
    <span class="notranslate"><span class="d_inlinecode donthyphenate">Pascal</span></span>
    <span class="notranslate"><span class="d_inlinecode donthyphenate">System</span></span>
</span></pre>

        <p>D provides an easy way to call C functions and operating
        system API functions, as compatibility with both is essential.
        The <i>LinkageType</i> is case sensitive, and is meant to be
        extensible by the implementation (<span class="notranslate"><span class="d_inlinecode donthyphenate">they are not keywords</span></span>).
        <span class="notranslate"><span class="d_inlinecode donthyphenate">C</span></span> and <span class="notranslate"><span class="d_inlinecode donthyphenate">D</span></span> must be supplied, the others are what
        makes sense for the implementation.
        <span class="notranslate"><span class="d_inlinecode donthyphenate">C++</span></span> is reserved for future use.
        <span class="notranslate"><span class="d_inlinecode donthyphenate">System</span></span> is the same as <span class="notranslate"><span class="d_inlinecode donthyphenate">Windows</span></span> on Windows platforms,
        and <span class="notranslate"><span class="d_inlinecode donthyphenate">C</span></span> on other platforms.
        <span class="notranslate"><span class="d_inlinecode donthyphenate">Implementation Note:</span></span>
        for Win32 platforms, <span class="notranslate"><span class="d_inlinecode donthyphenate">Windows</span></span> and <span class="notranslate"><span class="d_inlinecode donthyphenate">Pascal</span></span> should exist.
        </p>

        <p>C function calling conventions are
        specified by:
        </p>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">extern</span> (C):
  <span class="d_keyword">int</span> foo(); <span class="d_comment">// call foo() with C conventions
</span></span></pre>

        <p>D conventions are:</p>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">extern</span> (D):
</span></pre>

        <p>Windows API conventions are:</p>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">extern</span> (Windows):
  <span class="d_keyword">void</span> *VirtualAlloc(
    <span class="d_keyword">void</span> *lpAddress,
    <span class="d_keyword">uint</span> dwSize,
    <span class="d_keyword">uint</span> flAllocationType,
    <span class="d_keyword">uint</span> flProtect
    );
</span></pre>

        <p>Note that a lone <span class="notranslate"><span class="d_inlinecode donthyphenate">extern</span></span> declaration is used as a
        <a href="declaration.html#extern">storage class</a>.</p>

<h3><a name="align">Align Attribute</a></h3>

<pre class="bnf"><span class="notranslate"><a name="AlignAttribute"><i>AlignAttribute</i></a>:
    <span class="notranslate"><span class="d_inlinecode donthyphenate">align</span></span>
    <span class="notranslate"><span class="d_inlinecode donthyphenate">align</span></span> <span class="notranslate"><span class="d_inlinecode donthyphenate">(</span></span> <a href="lex.html#IntegerLiteral"><i>IntegerLiteral</i></a> <span class="notranslate"><span class="d_inlinecode donthyphenate">)</span></span>
</span></pre>


        <p>Specifies the alignment of:</p>

	<ol>	<li>variables</li>
	<li>struct fields</li>
	<li>union fields</li>
	<li>class fields</li>
	<li>struct, union, and class types</li>
	</ol>

	<p><span class="notranslate"><span class="d_inlinecode donthyphenate">align</span></span> by itself
        sets it to the default, which matches the default member alignment
        of the companion C compiler.</p>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">struct</span> S {
  <span class="d_keyword">align</span>:
     <span class="d_keyword">byte</span> a;   <span class="d_comment">// placed at offset 0
</span>     <span class="d_keyword">int</span> b;    <span class="d_comment">// placed at offset 4
</span>     <span class="d_keyword">long</span> c;   <span class="d_comment">// placed at offset 8
</span>}

<span class="d_keyword">auto</span> sz = S.sizeof;  <span class="d_comment">// 16
</span></span></pre>

	<p><i>IntegerLiteral</i> specifies the alignment
        which matches the behavior of the companion C compiler when non-default
        alignments are used. It must be a positive power of 2.
        </p>

        <p>A value of 1 means that no alignment is done;
        fields are packed together.
        </p>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">struct</span> S {
  <span class="d_keyword">align</span> (1):
     <span class="d_keyword">byte</span> a;   <span class="d_comment">// placed at offset 0
</span>     <span class="d_keyword">int</span> b;    <span class="d_comment">// placed at offset 1
</span>     <span class="d_keyword">long</span> c;   <span class="d_comment">// placed at offset 5
</span>}

<span class="d_keyword">auto</span> sz = S.sizeof;  <span class="d_comment">// 16
</span></span></pre>

	<p>The alignment for the fields of an aggregate does not affect the alignment
	of the aggregate itself - that is affected by the alignment setting outside
	of the aggregate.</p>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">align</span> (2) <span class="d_keyword">struct</span> S {
  <span class="d_keyword">align</span> (1):
     <span class="d_keyword">byte</span> a;   <span class="d_comment">// placed at offset 0
</span>     <span class="d_keyword">int</span> b;    <span class="d_comment">// placed at offset 1
</span>     <span class="d_keyword">long</span> c;   <span class="d_comment">// placed at offset 5
</span>}

<span class="d_keyword">auto</span> sz = S.sizeof;  <span class="d_comment">// 14
</span></span></pre>

	<p>Setting the alignment of a field aligns it to that power of 2, regardless
	of the size of the field.</p>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">struct</span> S {
  <span class="d_keyword">align</span> (4):
     <span class="d_keyword">byte</span> a;   <span class="d_comment">// placed at offset 0
</span>     <span class="d_keyword">byte</span> b;   <span class="d_comment">// placed at offset 4
</span>     <span class="d_keyword">short</span> c;  <span class="d_comment">// placed at offset 8
</span>}

<span class="d_keyword">auto</span> sz = S.sizeof;  <span class="d_comment">// 12
</span></span></pre>


        <p>Do not align references or pointers that were allocated
        using <i>NewExpression</i> on boundaries that are not
        a multiple of <span class="notranslate"><span class="d_inlinecode donthyphenate">size_t</span></span>. The garbage collector assumes that pointers
        and references to gc allocated objects will be on <span class="notranslate"><span class="d_inlinecode donthyphenate">size_t</span></span>
        byte boundaries. If they are not, undefined behavior will
        result.
        </p>

        <p>The <i>AlignAttribute</i> is reset to the default when
        entering a function scope or a non-anonymous struct, union, class, and restored
        when exiting that scope.
        It is not inherited from a base class.
        </p>



<h3><a name="deprecated">Deprecated Attribute</a></h3>

<pre class="bnf"><span class="notranslate"><a name="DeprecatedAttribute"><i>DeprecatedAttribute</i></a>:
    <span class="notranslate"><span class="d_inlinecode donthyphenate">deprecated</span></span>
    <span class="notranslate"><span class="d_inlinecode donthyphenate">deprecated (</span></span> <a href="lex.html#StringLiteral"><i>StringLiteral</i></a> <span class="notranslate"><span class="d_inlinecode donthyphenate">)</span></span>
</span></pre>

        <p>It is often necessary to deprecate a feature in a library,
        yet retain it for backwards compatibility. Such
        declarations can be marked as <span class="notranslate"><span class="d_inlinecode donthyphenate">deprecated</span></span>, which means
        that the compiler can be instructed to produce an error
        if any code refers to deprecated declarations:
        </p>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">deprecated</span>
{
  <span class="d_keyword">void</span> oldFoo();
}

oldFoo();   <span class="d_comment">// Deprecated: function test.oldFoo is deprecated
</span></span></pre>

        <p>Optional <a href="lex.html#StringLiteral"><i>StringLiteral</i></a> can show additional
        information in the deprecation message.
        </p>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">deprecated</span>(<span class="d_string">"Don't use bar"</span>) <span class="d_keyword">void</span> oldBar();
oldBar();   <span class="d_comment">// Deprecated: function test.oldBar is deprecated - Don't use bar
</span></span></pre>

        <p><span class="notranslate"><span class="d_inlinecode donthyphenate">Implementation Note:</span></span> The compiler should have a switch
        specifying if <span class="notranslate"><span class="d_inlinecode donthyphenate">deprecated</span></span> should be ignored, cause a warning, or cause an error during compilation.
        </p>


<h3>Protection Attribute</h3>

<pre class="bnf"><span class="notranslate"><a name="ProtectionAttribute"><i>ProtectionAttribute</i></a>:
    <span class="notranslate"><span class="d_inlinecode donthyphenate">private</span></span>
    <span class="notranslate"><span class="d_inlinecode donthyphenate">package</span></span>
    <span class="notranslate"><span class="d_inlinecode donthyphenate">protected</span></span>
    <span class="notranslate"><span class="d_inlinecode donthyphenate">public</span></span>
    <span class="notranslate"><span class="d_inlinecode donthyphenate">export</span></span>
</span></pre>

        <p>Protection is an attribute that is one of
        <span class="notranslate"><span class="d_inlinecode donthyphenate">private</span></span>, <span class="notranslate"><span class="d_inlinecode donthyphenate">package</span></span>, <span class="notranslate"><span class="d_inlinecode donthyphenate">protected</span></span>,
        <span class="notranslate"><span class="d_inlinecode donthyphenate">public</span></span> or <span class="notranslate"><span class="d_inlinecode donthyphenate">export</span></span>.
        </p>

        <p>Private means that only members of the enclosing class can access
        the member, or members and functions in the same module as the
        enclosing class.
        Private members cannot be overridden.
        Private module members are equivalent to <span class="notranslate"><span class="d_inlinecode donthyphenate">static</span></span> declarations
        in C programs.
        </p>

        <p>Package extends private so that package members can be accessed
        from code in other modules that are in the same package.
        This applies to the innermost package only, if a module is in
        nested packages.
        </p>

        <p>Protected means that only members of the enclosing class or any
        classes derived from that class,
        or members and functions in the same module
        as the enclosing class, can access the member.
        If accessing a protected instance member through a derived class member
        function,
        that member can only be accessed for the object instance
        which can be implicitly cast to the same type as &lsquo;this&rsquo;.
        Protected module members are illegal.
        </p>

        <p>Public means that any code within the executable can access the member.
        </p>

        <p>Export means that any code outside the executable can access the
        member. Export
        is analogous to exporting definitions from a DLL.
        </p>

        <p>Protection does not participate in name lookup.
        In particular, if two symbols with the same name are in scope,
        and that name is used unqualified then the lookup will be ambiguous,
        even if one of the symbols is inaccessible due to protection.
        For example:
        </p>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">module</span> A;
<span class="d_keyword">private</span> <span class="d_keyword">class</span> Foo {}
</span></pre>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">module</span> B;
<span class="d_keyword">public</span> <span class="d_keyword">class</span> Foo {}
</span></pre>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">import</span> A;
<span class="d_keyword">import</span> B;

Foo f1; <span class="d_comment">// error, could be either A.Foo or B.Foo
</span>B.Foo f2; <span class="d_comment">// ok
</span></span></pre>

<h3><a name="const"><span class="notranslate"><span class="d_inlinecode donthyphenate">const</span></span> Attribute</a></h3>

        <p>The <span class="notranslate"><span class="d_inlinecode donthyphenate">const</span></span> attribute changes the type of the declared symbol from <span class="notranslate"><span class="d_inlinecode donthyphenate">T</span></span> to <span class="notranslate"><span class="d_inlinecode donthyphenate">const(T)</span></span>,
        where <span class="notranslate"><span class="d_inlinecode donthyphenate">T</span></span> is the type specified (or inferred) for the introduced symbol in the absence of <span class="notranslate"><span class="d_inlinecode donthyphenate">const</span></span>.
        </p>
=======
	<p>The <b>const</b> attribute declares constants that can be
	evaluated at compile time. For example:
	</p>
&gt;&gt;&gt;&gt;&gt;&gt;&gt; some fixes from Rainer to allow grammar extraction

<pre class="d_code"><span class="notranslate"><span class="d_keyword">const</span> <span class="d_keyword">int</span> foo = 7;
<span class="d_keyword">static</span> <span class="d_keyword">assert</span>(<span class="d_keyword">is</span>(<span class="d_keyword">typeof</span>(foo) == <span class="d_keyword">const</span>(<span class="d_keyword">int</span>)));

<span class="d_keyword">const</span> {
  <span class="d_keyword">double</span> bar = foo + 6;
}
<span class="d_keyword">static</span> <span class="d_keyword">assert</span>(<span class="d_keyword">is</span>(<span class="d_keyword">typeof</span>(bar) == <span class="d_keyword">const</span>(<span class="d_keyword">double</span>)));

<span class="d_keyword">class</span> C {
  <span class="d_keyword">const</span> <span class="d_keyword">void</span> foo();
  <span class="d_keyword">const</span> {
    <span class="d_keyword">void</span> bar();
  }
  <span class="d_keyword">void</span> baz() <span class="d_keyword">const</span>;
}
<span class="d_keyword">pragma</span>(msg, <span class="d_keyword">typeof</span>(C.foo)); <span class="d_comment">// const void()
</span><span class="d_keyword">pragma</span>(msg, <span class="d_keyword">typeof</span>(C.bar)); <span class="d_comment">// const void()
</span><span class="d_keyword">pragma</span>(msg, <span class="d_keyword">typeof</span>(C.baz)); <span class="d_comment">// const void()
</span><span class="d_keyword">static</span> <span class="d_keyword">assert</span>(<span class="d_keyword">is</span>(<span class="d_keyword">typeof</span>(C.foo) == <span class="d_keyword">typeof</span>(C.bar)) &amp;&amp;
              <span class="d_keyword">is</span>(<span class="d_keyword">typeof</span>(C.bar) == <span class="d_keyword">typeof</span>(C.baz)));
</span></pre>

<h3><a name="immutable"><span class="notranslate"><span class="d_inlinecode donthyphenate">immutable</span></span> Attribute</a></h3>

        <p>The <span class="notranslate"><span class="d_inlinecode donthyphenate">immutable</span></span> attribute modifies the type from <span class="notranslate"><span class="d_inlinecode donthyphenate">T</span></span> to <span class="notranslate"><span class="d_inlinecode donthyphenate">immutable(T)</span></span>,
        the same way as <span class="notranslate"><span class="d_inlinecode donthyphenate">const</span></span> does.
        </p>

<h3><a name="inout"><span class="notranslate"><span class="d_inlinecode donthyphenate">inout</span></span> Attribute</a></h3>

        <p>The <span class="notranslate"><span class="d_inlinecode donthyphenate">inout</span></span> attribute modifies the type from <span class="notranslate"><span class="d_inlinecode donthyphenate">T</span></span> to <span class="notranslate"><span class="d_inlinecode donthyphenate">inout(T)</span></span>,
        the same way as <span class="notranslate"><span class="d_inlinecode donthyphenate">const</span></span> does.
        </p>

<h3><a name="shared"><span class="notranslate"><span class="d_inlinecode donthyphenate">shared</span></span> Attribute</a></h3>

        <p>The <span class="notranslate"><span class="d_inlinecode donthyphenate">shared</span></span> attribute modifies the type from <span class="notranslate"><span class="d_inlinecode donthyphenate">T</span></span> to <span class="notranslate"><span class="d_inlinecode donthyphenate">shared(T)</span></span>,
        the same way as <span class="notranslate"><span class="d_inlinecode donthyphenate">const</span></span> does.
        </p>

<h3><a name="gshared"><span class="notranslate"><span class="d_inlinecode donthyphenate">__gshared</span></span> Attribute</a></h3>

        <p>By default, non-immutable global declarations reside in thread local
        storage. When a global variable is marked with the <span class="notranslate"><span class="d_inlinecode donthyphenate">__gshared</span></span>
        attribute, its value is shared across all threads.</p>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">int</span> foo;            <span class="d_comment">// Each thread has its own exclusive copy of foo.
</span><span class="d_keyword">__gshared</span> <span class="d_keyword">int</span> bar;  <span class="d_comment">// bar is shared by all threads.
</span></span></pre>

        <p><span class="notranslate"><span class="d_inlinecode donthyphenate">__gshared</span></span> may also be applied to member variables and local
        variables. In these cases, <span class="notranslate"><span class="d_inlinecode donthyphenate">__gshared</span></span> is equivalent to <span class="notranslate"><span class="d_inlinecode donthyphenate">static</span></span>,
        except that the variable is shared by all threads rather than being
        thread local.</p>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">class</span> Foo {
  <span class="d_keyword">__gshared</span> <span class="d_keyword">int</span> bar;
}

<span class="d_keyword">int</span> foo() {
  <span class="d_keyword">__gshared</span> <span class="d_keyword">int</span> bar = 0;
  <span class="d_keyword">return</span> bar++; <span class="d_comment">// Not thread safe.
</span>}
</span></pre>

        <p>Unlike the <span class="notranslate"><span class="d_inlinecode donthyphenate">shared</span></span> attribute, <span class="notranslate"><span class="d_inlinecode donthyphenate">__gshared</span></span> provides no
        safe-guards against data races or other multi-threaded synchronization
        issues. It is the responsibility of the programmer to ensure that
        access to variables marked <span class="notranslate"><span class="d_inlinecode donthyphenate">__gshared</span></span> is synchronized correctly.</p>

        <p><span class="notranslate"><span class="d_inlinecode donthyphenate">__gshared</span></span> is disallowed in safe mode.</p>

<h3><a name="disable"><span class="notranslate"><span class="d_inlinecode donthyphenate">@disable</span></span> Attribute</a></h3>

        <p>A reference to a declaration marked with the <span class="notranslate"><span class="d_inlinecode donthyphenate">@disable</span></span> attribute causes
        a compile time error.
        This can be used to explicitly disallow certain operations or overloads
        at compile time rather than relying on generating a runtime error.
        </p>

<pre class="d_code"><span class="notranslate">@disable <span class="d_keyword">void</span> foo() { }

<span class="d_keyword">void</span> main() {
  foo();   <span class="d_comment">// error, foo is disabled
</span>}
</span></pre>

        <p><a href="struct.html#Struct-Constructor">Disabling struct no-arg constructor</a>
        disallows default construction of the struct.
        </p>

        <p><a href="struct.html#StructPostblit">Disabling struct postblit</a>
        makes the struct not copyable.
        </p>

<h3><a name="property"><span class="notranslate"><span class="d_inlinecode donthyphenate">@property</span></span> Attribute</a></h3>

        <p>See <a href="function.html#property-functions">Property Functions</a></p>.

<h3><a name="override">Override Attribute</a></h3>

        <p>The <span class="notranslate"><span class="d_inlinecode donthyphenate">override</span></span> attribute applies to virtual functions.
        It means that the function must override a function with the
        same name and parameters in a base class. The override attribute
        is useful for catching errors when a base class's member function
        gets its parameters changed, and all derived classes need to have
        their overriding functions updated.
        </p>
=======
	<p>The <b>override</b> attribute applies to virtual functions.
	It means that the function must override a function with the
	same name and parameters in a base class. The override attribute
	is useful for catching errors when a base class's member function
	gets its parameters changed, and all derived classes need to have
	their overriding functions updated.
	</p>
&gt;&gt;&gt;&gt;&gt;&gt;&gt; some fixes from Rainer to allow grammar extraction

<pre class="d_code"><span class="notranslate"><span class="d_keyword">class</span> Foo {
  <span class="d_keyword">int</span> bar();
  <span class="d_keyword">int</span> abc(<span class="d_keyword">int</span> x);
}

<span class="d_keyword">class</span> Foo2 : Foo {
  <span class="d_keyword">override</span> {
    <span class="d_keyword">int</span> bar(<span class="d_keyword">char</span> c); <span class="d_comment">// error, no bar(char) in Foo
</span>    <span class="d_keyword">int</span> abc(<span class="d_keyword">int</span> x);  <span class="d_comment">// ok
</span>  }
}
</span></pre>

<h3><a name="static">Static Attribute</a></h3>

        <p>The <span class="notranslate"><span class="d_inlinecode donthyphenate">static</span></span> attribute applies to functions and data.
        It means that the declaration does not apply to a particular
        instance of an object, but to the type of the object. In
        other words, it means there is no <span class="notranslate"><span class="d_inlinecode donthyphenate">this</span></span> reference.
        <span class="notranslate"><span class="d_inlinecode donthyphenate">static</span></span> is ignored when applied to other declarations.
        </p>
=======
	<p>The <b>static</b> attribute applies to functions and data.
	It means that the declaration does not apply to a particular
	instance of an object, but to the type of the object. In
	other words, it means there is no <b>this</b> reference.
	<b>static</b> is ignored when applied to other declarations.
	</p>
&gt;&gt;&gt;&gt;&gt;&gt;&gt; some fixes from Rainer to allow grammar extraction

<pre class="d_code"><span class="notranslate"><span class="d_keyword">class</span> Foo {
  <span class="d_keyword">static</span> <span class="d_keyword">int</span> bar() { <span class="d_keyword">return</span> 6; }
  <span class="d_keyword">int</span> foobar() { <span class="d_keyword">return</span> 7; }
}

...

Foo f = <span class="d_keyword">new</span> Foo;
Foo.bar();      <span class="d_comment">// produces 6
</span>Foo.foobar();   <span class="d_comment">// error, no instance of Foo
</span>f.bar();        <span class="d_comment">// produces 6;
</span>f.foobar();     <span class="d_comment">// produces 7;
</span></span></pre>

<p>        Static functions are never virtual.
</p>
<p>        Static data has only one instance for the entire program,
        not once per object.
</p>
<p>        Static does not have the additional C meaning of being local
        to a file. Use the <span class="notranslate"><span class="d_inlinecode donthyphenate">private</span></span> attribute in D to achieve that.
        For example:
</p>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">module</span> foo;
<span class="d_keyword">int</span> x = 3;         <span class="d_comment">// x is global
</span><span class="d_keyword">private</span> <span class="d_keyword">int</span> y = 4; <span class="d_comment">// y is local to module foo
</span></span></pre>


<h3><a name="auto">Auto Attribute</a></h3>

        <p>The <span class="notranslate"><span class="d_inlinecode donthyphenate">auto</span></span> attribute is used when there are no other attributes
        and type inference is desired.
        </p>
=======
	<p>The <b>auto</b> attribute is used when there are no other attributes
	and type inference is desired.
	</p>
&gt;&gt;&gt;&gt;&gt;&gt;&gt; some fixes from Rainer to allow grammar extraction

<pre class="d_code"><span class="notranslate"><span class="d_keyword">auto</span> i = 6.8;   <span class="d_comment">// declare i as a double
</span></span></pre>

<h3><a name="scope">Scope Attribute</a></h3>

<p>        The <span class="notranslate"><span class="d_inlinecode donthyphenate">scope</span></span> attribute is used for local variables and for class
        declarations. For class declarations, the <span class="notranslate"><span class="d_inlinecode donthyphenate">scope</span></span> attribute creates
        a <i>scope</i> class.
        For local declarations, <span class="notranslate"><span class="d_inlinecode donthyphenate">scope</span></span> implements the RAII (Resource
        Acquisition Is Initialization) protocol. This means that the
        destructor for an object is automatically called when the
        reference to it goes out of scope. The destructor is called even
        if the scope is exited via a thrown exception, thus <span class="notranslate"><span class="d_inlinecode donthyphenate">scope</span></span>
        is used to guarantee cleanup.
</p>
<p>        If there is more than one <span class="notranslate"><span class="d_inlinecode donthyphenate">scope</span></span> variable going out of scope
        at the same point, then the destructors are called in the reverse
        order that the variables were constructed.
</p>
<p>        <span class="notranslate"><span class="d_inlinecode donthyphenate">scope</span></span> cannot be applied to globals, statics, data members, ref
        or out parameters. Arrays of <span class="notranslate"><span class="d_inlinecode donthyphenate">scope</span></span>s are not allowed, and <span class="notranslate"><span class="d_inlinecode donthyphenate">scope</span></span>
        function return values are not allowed. Assignment to a <span class="notranslate"><span class="d_inlinecode donthyphenate">scope</span></span>,
        other than initialization, is not allowed.
        <span class="notranslate"><span class="d_inlinecode donthyphenate">Rationale:</span></span> These restrictions may get relaxed in the future
        if a compelling reason to appears.
</p>

<h3><a name="abstract">Abstract Attribute</a></h3>

<p>        If a class is abstract, it cannot be instantiated
        directly. It can only be instantiated as a base class of
        another, non-abstract, class.
</p>
<p>        Classes become abstract if they are defined within an
        abstract attribute, or if any of the virtual member functions
        within it are declared as abstract.
</p>
<p>        Non-virtual functions cannot be declared as abstract.
</p>
<p>        Functions declared as abstract can still have function
        bodies. This is so that even though they must be overridden,
        they can still provide &lsquo;base class functionality.&rsquo;
</p>

<h3><a name="uda">User Defined Attributes</a></h3>

        <p>            User Defined Attributes (UDA) are compile time expressions that can be attached
            to a declaration. These attributes can then be queried, extracted, and manipulated
            at compile time. There is no runtime component to them.
        </p>

        <p>            Grammatically, a UDA is a StorageClass:
        </p>

<pre class="bnf"><span class="notranslate"><a name="StorageClass"><i>StorageClass</i></a>:
    <a href="#UserDefinedAttribute"><i>UserDefinedAttribute</i></a>

<a name="UserDefinedAttribute"><i>UserDefinedAttribute</i></a>:
    @(ArgumentList)
    @CallExpression
</span></pre>
        <p>            And looks like:
        </p>

<pre class="d_code"><span class="notranslate">@(3) <span class="d_keyword">int</span> a;
@(<span class="d_string">"string"</span>, 7) <span class="d_keyword">int</span> b;

<span class="d_keyword">enum</span> Foo;
@Foo <span class="d_keyword">int</span> c;

<span class="d_keyword">struct</span> Bar
{
    <span class="d_keyword">int</span> x;
}

@Bar(3) <span class="d_keyword">int</span> d;
</span></pre>

        <p>            If there are multiple UDAs in scope for a declaration, they are concatenated:
        </p>

<pre class="d_code"><span class="notranslate">@(1) {
    @(2) <span class="d_keyword">int</span> a;         <span class="d_comment">// has UDA's (1, 2)
</span>    @(<span class="d_string">"string"</span>) <span class="d_keyword">int</span> b;  <span class="d_comment">// has UDA's (1, "string")
</span>}
</span></pre>

        <p>            UDA's can be extracted into an expression tuple using <span class="notranslate"><span class="d_inlinecode donthyphenate">__traits</span></span>:
        </p>

<pre class="d_code"><span class="notranslate">@('c') string s;
<span class="d_keyword">pragma</span>(msg, <span class="d_keyword">__traits</span>(getAttributes, s)); <span class="d_comment">// prints tuple('c')
</span></span></pre>


        <p>            If there are no user defined attributes for the symbol, an empty tuple is returned.
            The expression tuple can be turned into a manipulatable tuple:
        </p>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">template</span> Tuple (T...)
{
    <span class="d_keyword">alias</span> T Tuple;
}

<span class="d_keyword">enum</span> EEE = 7;
@(<span class="d_string">"hello"</span>) <span class="d_keyword">struct</span> SSS { }
@(3) { @(4) @EEE @SSS <span class="d_keyword">int</span> foo; }

<span class="d_keyword">alias</span> Tuple!(<span class="d_keyword">__traits</span>(getAttributes, foo)) TP;

<span class="d_keyword">pragma</span>(msg, TP); <span class="d_comment">// prints tuple(3, 4, 7, (SSS))
</span><span class="d_keyword">pragma</span>(msg, TP[2]); <span class="d_comment">// prints 7
</span></span></pre>

        <p>            Of course the tuple types can be used to declare things:
        </p>

<pre class="d_code"><span class="notranslate">TP[3] a; <span class="d_comment">// a is declared as an SSS
</span></span></pre>

        <p>            The attribute of the type name is not the same as the attribute of the variable:
        </p>

<pre class="d_code"><span class="notranslate"><span class="d_keyword">pragma</span>(msg, <span class="d_keyword">__traits</span>(getAttributes, <span class="d_keyword">typeof</span>(a))); <span class="d_comment">// prints tuple("hello")
</span></span></pre>

        <p>            Of course, the real value of UDA's is to be able to create user defined types with
            specific values. Having attribute values of basic types does not scale.
            The attribute tuples can be manipulated like any other tuple, and can be passed as
            the argument list to a template.
        </p>

        <p>            Whether the attributes are values or types is up to the user, and whether later
            attributes accumulate or override earlier ones is also up to how the user
            interprets them.
        </p>

  
<div id="google_ad">
<!-- Google ad -->
<script type="text/javascript"><!--
/**/google_ad_client = "pub-5628673096434613";
/**/google_ad_width = 728;
/**/google_ad_height = 90;
/**/google_ad_format = "728x90_as";
/**/google_ad_channel ="3651639259";
/**/google_page_url = document.location;
//--></script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>

</div><!--/content-->





<div id="footernav">
<a href="http://forum.dlang.org/" title="User Forums">Forums</a> |
<a href="http://wiki.dlang.org/DocComments/Attribute" title="Read/write comments and feedback">Comments</a> |
<a href="http://digitalmars.com/advancedsearch.html" title="Search Digital Mars web site">Search</a> |
<a href="download.html" title="Download D">Downloads</a> |
<a href="/">Home</a>
</div>
<div id="copyright">

Copyright &copy; 1999-2013 by Digital Mars &reg;, All Rights Reserved
 |
Page generated by <a href="ddoc.html">Ddoc</a> on Wed Oct 02 13:49:23 2013


</div>

</body>
</html>

